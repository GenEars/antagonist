/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/ui","@grafana/runtime","react","rxjs","@emotion/css","react-dom","redux","react-redux"],((e,t,n,r,a,o,i,l,s)=>(()=>{var d={344:(e,t,n)=>{"use strict";var r=n(644),a=n(388),o=n(650);const i=e=>({rootOutline:r.css`
      border: 1px solid ${e.colors.border.weak};
      background-color: ${e.colors.background.primary};
    `,header:r.css`
      padding: ${e.spacing(.5,.5)};
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: flex-start;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,headerSolid:r.css`
      border-radius: ${e.shape.radius?.default};
      background: ${e.colors.background.secondary};
    `,title:r.css`
      font-weight: ${e.typography.fontWeightBold};
      margin: ${e.spacing(0,.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:r.css`
      margin-left: ${e.spacing(.5)};
      color: ${e.colors.text.disabled};
    `,actions:r.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `});t.U=({title:e,actions:t,children:n,isOpen:l=!1,onToggle:s,headerTestId:d,contentTestId:c,fill:u="outline",isInlineContent:p=!1})=>{const m=a.useTheme2(),f=a.useStyles2(i),g="solid"===u,b="outline"===u;return o.createElement("div",{className:r.cx({[f.rootOutline]:b})},o.createElement("div",{className:r.cx(f.header,{[f.headerSolid]:g}),"data-testid":d,onClick:()=>s?.(!l)},o.createElement(a.IconButton,{name:l?"angle-down":"angle-right",tooltip:l?"Collapse":"Expand",className:f.collapseIcon,"aria-expanded":l}),o.createElement("div",{className:f.title},e),t&&o.createElement("div",{className:f.actions,onClick:e=>e.stopPropagation()},t)),l&&o.createElement("div",{style:{padding:p?0:m.spacing(.5)},"data-testid":c},n))},t.Y=({value:e,onChange:t,min:n,max:r,step:i,...l})=>{const s=o.useRef(null),[d,c]=o.useState(e?.toString()??"0"),u=o.useCallback((e=>{c(e.currentTarget.value)}),[]),p=o.useCallback((()=>{let e=Number(d);Number.isNaN(e)&&(e=0),void 0!==i&&1e3*e%(1e3*i)!=0&&(e=0),void 0!==r&&e>r?e=r:void 0!==n&&e<n&&(e=n),t?.(e),c(e.toString())}),[d,r,n,t,i]),m=o.useCallback((e=>{"Enter"===e.key&&s.current?.blur()}),[p]);return o.useEffect((()=>{c(e?.toString()||"0")}),[e]),o.createElement(a.Input,{ref:s,...l,type:"text",value:d,onChange:u,onBlur:p,onKeyDown:m})}},944:(e,t)=>{"use strict";t.r=(e,t=[])=>n=>Object.entries(e).reduce(((e,[r,a])=>({...e,[r]:(e=!1,...o)=>{const i="function"==typeof a?a(...o):a;return i.startsWith("data-testid")||t.includes(r)?e?n.queryByTestId(i):n.getByTestId(i):e?n.queryByLabelText(i):n.getByLabelText(i)}})),{})},42:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},644:e=>{"use strict";e.exports=o},305:t=>{"use strict";t.exports=e},545:e=>{"use strict";e.exports=n},388:e=>{"use strict";e.exports=t},650:e=>{"use strict";e.exports=r},729:e=>{"use strict";e.exports=i},929:e=>{"use strict";e.exports=s},129:e=>{"use strict";e.exports=l},177:e=>{"use strict";e.exports=a}},c={};function u(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={exports:{}};return d[e](n,n.exports,u),n.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return(()=>{"use strict";u.r(p),u.d(p,{plugin:()=>kl});var e,t,n,r,a,o,i=u(305),l=u(388),s=u(545),d=u(650),c=u.n(d);!function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(e||(e={})),function(e){e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg"}(t||(t={})),function(e){e.CUSTOM="custom",e.DESTRUCTIVE="destructive",e.HIDDEN="hidden",e.PRIMARY="primary",e.SECONDARY="secondary"}(n||(n={})),function(e){e.JAVASCRIPT="javascript",e.JSON="json"}(r||(r={})),function(e){e.REQUEST="request",e.GET_PAYLOAD="getPayload",e.ELEMENT_VALUE_CHANGED="elementValueChanged",e.ELEMENT_SHOW_IF="elementShowIf",e.ELEMENT_DISABLE_IF="elementDisableIf",e.ELEMENT_GET_OPTIONS="elementGetOptions"}(a||(a={})),function(e){e.NEW_TAB="_blank",e.SELF_TAB="_self"}(o||(o={}));const m=[{value:n.HIDDEN,label:"Hidden"}],f=[{value:n.PRIMARY,label:"Primary"},{value:n.SECONDARY,label:"Secondary"},{value:n.DESTRUCTIVE,label:"Destructive"},{value:n.CUSTOM,label:"Custom"}],g=[{value:e.LEFT,label:"Left",icon:"horizontal-align-left"},{value:e.CENTER,label:"Center",icon:"horizontal-align-center"},{value:e.RIGHT,label:"Right",icon:"horizontal-align-right"}],b=[{value:t.SMALL,label:"Small"},{value:t.MEDIUM,label:"Medium"},{value:t.LARGE,label:"Large"}],h=200,v=1e3,y=[{value:r.JAVASCRIPT,label:"Javascript"},{value:r.JSON,label:"JSON"}],E=[{label:"options",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Panels' options."},{label:"data",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Result set of panel queries."},{label:"response",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Request's response"},{label:"initial",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Parsed values from the Initial Request."},{label:"elements",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"locationService",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Allows to work with browser location and history."},{label:"templateService",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Provides access to variables and allows to update Time Range."},{label:"onOptionsChange",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Change handler to refresh panel."},{label:"initialRequest",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Perform the Initial Request to reload panel."},{label:"setInitial",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Allows to specify the initial values."},{label:"notifySuccess",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Display successful notification."},{label:"notifyError",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Display error notification."},{label:"notifyWarning",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Display warning notification."},{label:"toDataQueryResponse",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Parse the results from /api/ds/query."}],I=[{label:"context",kind:l.CodeEditorSuggestionItemKind.Constant,detail:"All passed possible properties and methods."},{label:"context.panel",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Panel instance properties."},{label:"context.panel.data",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Panel data."},{label:"context.panel.options",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Panel options."},{label:"context.panel.onOptionsChange",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Update panel options on dashboard."},{label:"context.panel.elements",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Panel elements."},{label:"context.panel.onChangeElements",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Update panel elements."},{label:"context.panel.initial",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Set initial values."},{label:"context.panel.initialRequest",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Run Initial Request."},{label:"context.panel.response",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Response object."},{label:"context.grafana",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Grafana properties and methods."},{label:"context.grafana.backendService",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Backend service."},{label:"context.grafana.locationService",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Location service."},{label:"context.grafana.templateService",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Template variables service."},{label:"context.grafana.notifyError",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Show error notification."},{label:"context.grafana.notifySuccess",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Show success notification."},{label:"context.grafana.notifyWarning",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Show warning notification."},{label:"context.grafana.eventBus",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Panels events."},{label:"context.grafana.appEvents",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Application events."},{label:"context.grafana.refresh",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Refresh dashboard."},{label:"context.utils",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Utils/helpers functions."},{label:"context.utils.toDataQueryResponse",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Parse the results from /api/ds/query."},{label:"context.utils.fileToBase64",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Converts File to Base64 string."}],S={[a.REQUEST]:[...E,...I],[a.GET_PAYLOAD]:[{label:"elements",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"initial",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Parsed values from the Initial Request."},...I.filter((e=>["context","context.panel.elements","context.panel.initial","context.utils.fileToBase64"].includes(e.label)))],[a.ELEMENT_VALUE_CHANGED]:[...I,{label:"context.element",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Form Element which value has been changed."},{label:"context.panel.setError",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Set panel error."},{label:"context.panel.enableReset",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Enable reset button."},{label:"context.panel.disableReset",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Disable reset button."},{label:"context.panel.enableSubmit",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Enable submit button."},{label:"context.panel.disableSubmit",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Disable submit button."},{label:"context.panel.enableSaveDefault",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Enable save default button."},{label:"context.panel.disableSaveDefault",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Disable save default button."}],[a.ELEMENT_DISABLE_IF]:[{label:"elements",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"replaceVariables",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."},...I.filter((e=>["context","context.panel.elements"].includes(e.label))),{label:"context.grafana.replaceVariables",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."}],[a.ELEMENT_SHOW_IF]:[{label:"elements",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"replaceVariables",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."},...I.filter((e=>["context","context.panel.elements"].includes(e.label))),{label:"context.grafana.replaceVariables",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."}],[a.ELEMENT_GET_OPTIONS]:[{label:"data",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Result set of panel queries."},{label:"elements",kind:l.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"replaceVariables",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."},...I.filter((e=>["context","context.panel.data","context.panel.elements"].includes(e.label))),{label:"context.grafana.replaceVariables",kind:l.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."}]},O=[{value:!0,label:"Enabled",icon:"sync"},{value:!1,label:"Disabled",icon:"sync-slash"}],C={RadioButton:{container:"data-testid radio-button"},Breadcrumbs:{breadcrumb:e=>`data-testid ${e} breadcrumb`},TimePicker:{openButton:"data-testid TimePicker Open Button",overlayContent:"data-testid TimePicker Overlay Content",fromField:"data-testid Time Range from field",toField:"data-testid Time Range to field",applyTimeRange:"data-testid TimePicker submit button",calendar:{label:"data-testid Time Range calendar",openButton:"data-testid Open time range calendar",closeButton:"data-testid Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSourcePermissions:{form:()=>'form[name="addPermission"]',roleType:"Role to add new permission to",rolePicker:"Built-in role picker",permissionLevel:"Permission Level"},DateTimePicker:{input:"data-testid date-time-input"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{connectionSettings:"Data source connection URL",exemplarsAddButton:"Add exemplar config button",internalLinkSwitch:"Internal link switch"},exemplarMarker:"Exemplar marker"}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"SubMenu container",icon:"SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,headerItems:e=>`data-testid Panel header item ${e}`,menuItems:e=>`data-testid Panel menu item ${e}`,menu:e=>`data-testid Panel menu ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`,status:e=>`data-testid Panel status ${e}`,loadingBar:()=>"Panel loading bar",HoverWidget:{container:"data-testid hover-header-container",dragIcon:"data-testid drag-icon"}},Visualization:{Graph:{container:"Graph container",VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer",body:"data-testid table body"}}},VizLegend:{seriesName:e=>`VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"Drawer close",rcContentWrapper:()=>".rc-drawer-content-wrapper"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"data-testid Apply changes and go back to dashboard",toggleVizPicker:"data-testid toggle-viz-picker",toggleVizOptions:"data-testid toggle-viz-options",toggleTableView:"toggle-table-view",showZoomField:"Map controls Show zoom control field property editor",showAttributionField:"Map controls Show attribution field property editor",showScaleField:"Map controls Show scale field property editor",showMeasureField:"Map controls Show measure tools field property editor",showDebugField:"Map controls Show debug field property editor",measureButton:"show measure tools"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"data-testid query-history-button",addQuery:"data-testid query-tab-add-query"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`${e}`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"data-testid Alert editor tab content"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"data-testid Transform editor tab content",newTransform:e=>`data-testid New transform ${e}`,transformationEditor:e=>`data-testid Transformation editor ${e}`,transformationEditorDebugger:e=>`data-testid Transformation editor debugger ${e}`},Transforms:{card:e=>`data-testid New transform ${e}`,Reduce:{modeLabel:"data-testid Transform mode label",calculationsLabel:"data-testid Transform calculations label"},SpatialOperations:{actionLabel:"root Action field property editor",locationLabel:"root Location Mode field property editor",location:{autoOption:"Auto location option",coords:{option:"Coords location option",latitudeFieldLabel:"root Latitude field field property editor",longitudeFieldLabel:"root Longitude field field property editor"},geohash:{option:"Geohash location option",geohashFieldLabel:"root Geohash field field property editor"},lookup:{option:"Lookup location option",lookupFieldLabel:"root Lookup field field property editor",gazetteerFieldLabel:"root Gazetteer field property editor"}}},searchInput:"data-testid search transformations",noTransformationsMessage:"data-testid no transformations message",addTransformationButton:"data-testid add transformation button"},NavBar:{Configuration:{button:"Configuration"},Toggle:{button:"data-testid Toggle menu"},Reporting:{button:"Reporting"}},NavMenu:{Menu:"data-testid navigation mega-menu",item:"data-testid Nav menu item"},NavToolbar:{container:"data-testid Nav toolbar"},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`,itemButton:e=>`data-testid ${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"Go Back"},OptionsGroup:{group:e=>e?`Options group ${e}`:"Options group",toggle:e=>e?`Options group ${e} toggle`:"Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"Select a folder"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"data-testid Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"data-testid Select a data source"},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"Query field"},QueryBuilder:{queryPatterns:"Query patterns",labelSelect:"Select label",valueSelect:"Select value",matchOperatorSelect:"Select match operator"},ValuePicker:{button:e=>`Value picker button ${e}`,select:e=>`Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${C.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,folderHeader:e=>`data-testid Folder header ${e}`,folderContent:e=>`data-testid Folder content ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"Data link"},CodeEditor:{container:"data-testid Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"data-testid Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table",extensionPointTabs:"data-testid-extension-point-tabs",extensionPointTab:e=>`data-testid-extension-point-tab-${e}`},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"},DebugOverlay:{wrapper:"debug-overlay"},OrgRolePicker:{input:"Role"},AnalyticsToolbarButton:{button:"Dashboard insights"},Variables:{variableOption:"data-testid variable-option"},Annotations:{annotationsTypeInput:"annotations-type-input",annotationsChoosePanelInput:"choose-panels-input"},Tooltip:{container:"data-testid tooltip"}},w={delete:"data-testid Confirm Modal Danger Button"},D=(C.CallToActionCard.button("Add annotation query"),C.CallToActionCard.buttonV2("Add annotation query"),C.CallToActionCard.button("Add variable"),C.CallToActionCard.buttonV2("Add variable"),C.DataSourcePicker.container,{panel:{root:"data-testid panel",loadingBar:"data-testid panel loading-bar",infoMessage:"data-testid panel info-message",singleLayoutContent:"data-testid panel single-layout-content",splitLayoutContent:e=>`data-testid panel split-layout-content-${e}`,buttonSubmit:"data-testid panel button-submit",buttonReset:"data-testid panel button-reset",buttonSaveDefault:"data-testid panel button-save-default",errorMessage:"data-testid panel error-message",buttonConfirmUpdate:w.delete,confirmModalContent:"data-testid panel confirm-modal-content",confirmModalField:e=>`data-testid panel confirm-modal-content field-${e}`,confirmModalFieldTitle:"data-testid panel confirm-modal-content field field-title",confirmModalFieldPreviousValue:"data-testid panel confirm-modal-content field field-previous-value",confirmModalFieldValue:"data-testid panel confirm-modal-content field field-value",resetConfirmModal:"data-testid panel reset-confirm-modal",buttonConfirmReset:w.delete},customCodeEditor:{root:"data-testid custom-code-editor"},formElements:{root:"data-testid form-elements",element:(e,t)=>`data-testid form-elements element-${e}-${t}`,fieldNumber:"data-testid form-elements field-number",fieldString:"data-testid form-elements field-string",fieldFile:"data-testid form-elements field-file",fieldPassword:"data-testid form-elements field-password",fieldDisabled:"data-testid form-elements field-disabled",fieldTextarea:"data-testid form-elements field-textarea",fieldDisabledTextarea:"data-testid form-elements field-disabled-textarea",fieldCode:"Code editor container",fieldBooleanContainer:"data-testid form-elements field-boolean-container",fieldDateTime:"date-time-input",fieldSlider:"form-elements field-slider",fieldSliderInput:"data-testid form-elements field-slider-input",fieldRadioContainer:"data-testid form-elements field-radio-container",fieldSelect:"form-elements field-select-container",booleanOption:e=>`form-elements boolean-${e}`,unit:"data-testid form-elements unit",link:"data-testid form elements link"},formElementsEditor:{addElementError:"data-testid form-elements-editor add-element-error",buttonAddElement:"data-testid form-elements-editor button-add-element",buttonAddOption:"data-testid form-elements-editor button-add-option",buttonRemoveElement:"data-testid form-elements-editor button-remove-element",buttonRemoveOption:"data-testid form-elements-editor button-remove-option",buttonSaveChanges:"data-testid form-elements-editor button-save-changes",fieldCodeHeight:"data-testid form-elements-editor field-code-height",fieldCodeLanguage:"form-elements-editor field-code-language",fieldId:"data-testid form-elements-editor field-id",fieldLabel:"data-testid form-elements-editor field-label",fieldLabelWidth:"data-testid form-elements-editor field-label-width",fieldNumberMax:"data-testid form-elements-editor field-number-max",fieldNumberMin:"data-testid form-elements-editor field-number-min",options:"data-testid form-elements-editor options",optionLabel:e=>`data-testid form-elements-editor option-label-${e}`,optionContent:e=>`data-testid form-elements-editor option-content-${e}`,fieldOptionLabel:"data-testid form-elements-editor field-option-label",fieldOptionIcon:"form-elements-editor field-option-icon",fieldOptionType:"form-elements-editor field-option-type",fieldOptionValue:"data-testid form-elements-editor field-option-value",fieldSection:"form-elements-editor field-section",fieldSliderMax:"data-testid form-elements-editor field-slider-max",fieldSliderMin:"data-testid form-elements-editor field-slider-min",fieldSliderStep:"data-testid form-elements-editor field-slider-step",fieldTextareaRows:"data-testid form-elements-editor field-textarea-rows",fieldTooltip:"data-testid form-elements-editor field-tooltip",fieldType:"form-elements-editor field-type",fieldShowIf:"form-elements-editor field-show-if",fieldDisableIf:"form-elements-editor field-disable-if",fieldUnit:"data-testid form-elements-editor field-unit",fieldVisibility:"data-testid form-elements-editor field-visibility",fieldWidth:"data-testid form-elements-editor field-width",fieldNamePicker:"data-testid form-elements-editor field-name-picker",fieldAccept:"data-testid form-elements-editor field-accept",fieldFromQueryPicker:"form-elements-editor field-from-query-picker",fieldDateTime:"date-time-input",fieldMinDate:"data-testid form-elements-editor field-min-date",fieldMaxDate:"data-testid form-elements-editor field-max-date",optionsSourceOption:e=>`form-elements-editor options-source-option-${e}`,linkTargetOption:e=>`form-elements-editor link-target-option-${e}`,fieldQueryOptionsValue:"form-elements-editor field-query-options-value",fieldQueryOptionsLabel:"form-elements-editor field-query-options-label",newElementId:"data-testid form-elements-editor new-element-id",newElementLabel:"data-testid form-elements-editor new-element-label",newElementType:"form-elements-editor new-element-type",radioOption:e=>`form-elements-editor option-${e}`,root:"data-testid form-elements-editor",sectionContent:(e,t)=>`data-testid form-elements-editor section-content-${e}-${t}`,sectionLabel:(e,t)=>`data-testid form-elements-editor section-label-${e}-${t}`,sectionNewContent:"data-testid form-elements-editor section-new-content",sectionNewLabel:"data-testid form-elements-editor section-new-label",buttonSetDate:"data-testid form-elements-editor button-set-date",buttonRemoveDate:"data-testid form-elements-editor button-remove-date",fieldLinkText:"data-testid form-elements-editor field-link-text",fieldGetOptions:"form-elements-editor field-get-options"},headerParametersEditor:{buttonAdd:"data-testid header-parameters-editor button-add",buttonRemove:"data-testid header-parameters-editor button-remove",fieldName:"data-testid header-parameters-editor field-name",fieldValue:"data-testid header-parameters-editor field-value",parameter:e=>`data-testid header-parameters-editor root parameter-${e}`,root:"data-testid header-parameters-editor"},layoutSectionsEditor:{buttonAdd:"data-testid layout-sections-editor button-add",buttonRemove:"data-testid layout-sections-editor button-remove",fieldId:"data-testid layout-sections-editor field-id",fieldName:"data-testid layout-sections-editor field-name",root:"data-testid layout-sections-editor",section:e=>`data-testid layout-sections-editor section-${e}`},datasourceEditor:{fieldSelect:"select-datasource-editor field-select"}});var x;!function(e){e.BOOLEAN="boolean",e.CODE="code",e.DATETIME="datetime",e.DISABLED="disabled",e.DISABLED_TEXTAREA="disabledTextarea",e.FILE="file",e.LINK="link",e.MULTISELECT="multiselect",e.NUMBER="number",e.PASSWORD="password",e.RADIO="radio",e.SECRET="secret",e.SELECT="select",e.SLIDER="slider",e.STRING="string",e.TEXTAREA="textarea"}(x||(x={}));const T=[{value:"code",label:"Code Editor"},{value:"datetime",label:"Date and Time"},{value:"file",label:"File"},{value:"link",label:"Link"},{value:"multiselect",label:"Multi Select with Custom options"},{value:"number",label:"Number Input"},{value:"slider",label:"Number Slider"},{value:"password",label:"Password Input"},{value:"boolean",label:"Radio Group with Boolean options"},{value:"radio",label:"Radio Group with Custom options"},{value:"disabled",label:"Read-only"},{value:"disabledTextarea",label:"Read-only Text Area"},{value:"select",label:"Select with Custom options"},{value:"string",label:"String Input"},{value:"textarea",label:"Text Area"}],P=[{ariaLabel:D.formElements.booleanOption("true"),value:!0,label:"True"},{ariaLabel:D.formElements.booleanOption("false"),value:!1,label:"False"}],A=[{value:"number",label:"Number"},{value:"string",label:"String"}],R=[{ariaLabel:D.formElementsEditor.radioOption("visibility-display"),description:"Display",icon:"eye",value:!1},{ariaLabel:D.formElementsEditor.radioOption("visibility-hidden"),description:"Hidden",icon:"eye-slash",value:!0}];var N;!function(e){e.NONE="",e.INITIAL="initial",e.UPDATE="update",e.RESET="reset"}(N||(N={}));const M=(0,l.getAvailableIcons)().map((e=>({label:e,value:e,icon:e})));var L;!function(e){e.QUERY="Query",e.CUSTOM="Custom",e.CODE="Code"}(L||(L={}));const B=[{label:"Query",value:"Query",ariaLabel:D.formElementsEditor.optionsSourceOption("Query")},{label:"Custom",value:"Custom",ariaLabel:D.formElementsEditor.optionsSourceOption("Custom"),icon:"keyboard"},{label:"Code",value:"Code",ariaLabel:D.formElementsEditor.optionsSourceOption("Code"),icon:"calculator-alt"}],k=[{label:"Same Tab",value:o.SELF_TAB,ariaLabel:D.formElementsEditor.linkTargetOption(o.SELF_TAB)},{label:"New Tab",value:o.NEW_TAB,ariaLabel:D.formElementsEditor.linkTargetOption(o.NEW_TAB),icon:"external-link-alt"}],F="console.log(data, response, initial, elements);\n\nreturn;\n\n/**\n * Data Source\n * Requires form elements to be defined\n */\nconst dataQuery = toDataQueryResponse(response);\nconsole.log(dataQuery);",j="if (response && response.ok) {\n  notifySuccess(['Update', 'Values updated successfully.']);\n  locationService.reload();\n} else {\n  notifyError(['Update', 'An error occured updating values.']);\n}",U="return {\n  rawSql: '',\n  format: 'table',\n}",G={icon:"cloud-upload",backgroundColor:"purple",foregroundColor:"yellow",text:"Submit",variant:n.PRIMARY},_={icon:"process",backgroundColor:"purple",foregroundColor:"yellow",text:"Reset",variant:n.HIDDEN},V={icon:"save",backgroundColor:"purple",foregroundColor:"yellow",text:"Save Default",variant:n.HIDDEN},W={value:0},$={min:0,max:10,step:1,value:0},H={height:h,language:r.JAVASCRIPT,value:""},q={rows:10,value:""},K={options:[],optionsSource:L.CUSTOM},Q={uid:"",id:"",title:"",type:x.STRING,width:null,labelWidth:10,tooltip:"",section:"",hidden:!1,unit:"",value:""},z={id:"_",type:x.NUMBER,label:"",value:""},Y="Label",J="Old Value",X="New Value";var Z,ee;!function(e){e.NONE="none",e.SINGLE="single",e.SPLIT="split"}(Z||(Z={})),function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(ee||(ee={}));const te=[{value:"single",description:"All elements together.",label:"Basic",icon:"bars"},{value:"none",description:"Buttons only.",label:"Buttons only",icon:"apps"},{value:"split",description:"Elements split in separate sections.",label:"Sections",icon:"columns"}],ne=[{value:"horizontal",description:"Horizontal Orientation",label:"Horizontal",icon:"horizontal-align-center"},{value:"vertical",description:"Vertical Orientation",label:"Vertical",icon:"vertical-align-center"}],re=[{value:!0,label:"Enabled"},{value:!1,label:"Disabled"}];var ae;!function(e){e.DATASOURCE="datasource",e.DELETE="DELETE",e.GET="GET",e.NONE="-",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.QUERY="query"}(ae||(ae={}));const oe=[{value:"-",label:"Code",icon:"calculator-alt"},{value:"datasource",label:"Data Source",icon:"database"},{value:"query",label:"Query"},{value:"GET",label:"GET"}],ie=[{value:"-",label:"Code",icon:"calculator-alt"},{value:"datasource",label:"Data Source",icon:"database"},{value:"DELETE",label:"DELETE"},{value:"PATCH",label:"PATCH"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"}];var le;!function(e){e.FORMDATA="multipart/form-data",e.JSON="application/json",e.PLAIN="text/plain"}(le||(le={}));const se=[{label:"Application/json",value:"application/json"},{label:"Text/plain",value:"text/plain"},{label:"Multipart/form-data",value:"multipart/form-data"}];var de;!function(e){e.ALL="all",e.UPDATED="updated",e.CUSTOM="custom"}(de||(de={}));const ce=[{label:"All Elements",value:"all"},{label:"Updated Only",value:"updated"},{label:"Code",value:"custom",icon:"calculator-alt"}];var ue;!function(e){e.INITIAL="initial",e.CUSTOM="custom",e.DATASOURCE="datasource"}(ue||(ue={}));const pe=[{label:"Code",value:"custom",icon:"calculator-alt"},{label:"Initial Request",value:"initial"},{label:"Data Source",value:"datasource",icon:"database"}];function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fe=e=>{const t=18*e.split("\n").length;return t<h?h:t>v?v:t},ge=e=>{var{value:t,onChange:n,height:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","onChange","height"]);const[o,i]=(0,d.useState)(fe(t));return(0,d.useEffect)((()=>{i(fe(t))}),[t]),c().createElement(l.CodeEditor,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){me(e,t,n[t])}))}return e}({value:t,onChange:e=>{null==n||n(e),i(fe(e))},height:null!=r?r:o},a))},be=({value:e,item:t,onChange:n})=>{var a;const o=(null===(a=t.settings)||void 0===a?void 0:a.language)||r.JAVASCRIPT,i=(0,s.getTemplateSrv)(),u=(0,d.useCallback)((()=>{var e,n;const r=(null===(e=t.settings)||void 0===e?void 0:e.variablesSuggestions)?i.getVariables().map((e=>({label:`\${${e.name}}`,kind:l.CodeEditorSuggestionItemKind.Property,detail:e.description?e.description:e.label}))):[];return(null===(n=t.settings)||void 0===n?void 0:n.type)?S[t.settings.type].concat(r):r}),[t.settings,i]);return c().createElement("div",{"data-testid":D.customCodeEditor.root},c().createElement(ge,{language:o,showLineNumbers:!0,showMiniMap:!!e&&e.length>100,value:e,onBlur:n,onSave:n,monacoOptions:{formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onEditorDidMount:e=>{setTimeout((()=>{e.getAction("editor.action.formatDocument").run()}),100)},getSuggestions:u}))};var he=u(177);function ve(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}const Ie=()=>{return(0,d.useCallback)((e=function*({query:e,datasource:t,replaceVariables:n}){const r=yield(0,s.getDataSourceSrv)().get(t),a=JSON.parse(n(JSON.stringify(e)));return(0,he.lastValueFrom)((0,s.getBackendSrv)().fetch({method:"POST",url:"api/ds/query",data:{queries:[Ee({datasourceId:r.id,refId:"A"},a)]}}))},t=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ve(o,r,a,i,l,"next",e)}function l(e){ve(o,r,a,i,l,"throw",e)}i(void 0)}))},function(e){return t.apply(this,arguments)}),[]);var e,t};function Se(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}const Oe=()=>{const[e,t]=(0,d.useState)([]);return(0,d.useEffect)((()=>{var e,n;(e=function*(){const e=yield(0,s.getBackendSrv)().get("/api/datasources");t(e)},n=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Se(o,r,a,i,l,"next",e)}function l(e){Se(o,r,a,i,l,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)})()}),[]),e},Ce={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let we;const De=new Uint8Array(16);function xe(){if(!we&&(we="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!we))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return we(De)}const Te=[];for(let e=0;e<256;++e)Te.push((e+256).toString(16).slice(1));const Pe=function(e,t,n){if(Ce.randomUUID&&!t&&!e)return Ce.randomUUID();const r=(e=e||{}).random||(e.rng||xe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return Te[e[t+0]]+Te[e[t+1]]+Te[e[t+2]]+Te[e[t+3]]+"-"+Te[e[t+4]]+Te[e[t+5]]+"-"+Te[e[t+6]]+Te[e[t+7]]+"-"+Te[e[t+8]]+Te[e[t+9]]+"-"+Te[e[t+10]]+Te[e[t+11]]+Te[e[t+12]]+Te[e[t+13]]+Te[e[t+14]]+Te[e[t+15]]}(r)},Ae=e=>e?e.values.toArray?e.values.toArray():e.values:[];function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Re(e,t,n[t])}))}return e}function Me(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Le=(e,t,n)=>{const r=Array.from(e),[a]=r.splice(t,1);return r.splice(n,0,a),r},Be=(e,t)=>{const n={uid:e.uid,id:e.id,type:t,labelWidth:e.labelWidth,width:e.width,value:e.value,title:e.title,tooltip:e.tooltip,section:e.section,unit:e.unit,helpers:e.helpers};switch(t){case x.STRING:return Me(Ne({},n),{hidden:!1,value:"",type:t});case x.SLIDER:return Me(Ne({},n,$),{type:t});case x.NUMBER:return Me(Ne({},n,W),{type:t});case x.CODE:return Me(Ne({},n,H),{type:t});case x.TEXTAREA:case x.DISABLED_TEXTAREA:return Me(Ne({},n,q),{type:t});case x.SELECT:case x.MULTISELECT:case x.DISABLED:case x.RADIO:return Me(Ne({},n),{options:"options"in e&&e.options||[],optionsSource:"optionsSource"in e&&e.optionsSource||K.optionsSource,queryOptions:"queryOptions"in e?e.queryOptions:void 0,type:t});case x.FILE:return Me(Ne({},n),{value:[],accept:"",type:t});case x.DATETIME:case x.PASSWORD:case x.SECRET:return Me(Ne({},n),{value:"",type:t});case x.BOOLEAN:return Me(Ne({},n),{value:!1,type:t});case x.LINK:return Me(Ne({},n),{value:"",target:o.SELF_TAB,linkText:"",type:t})}},ke=(e,t)=>e.some((e=>e.id===t.id&&e.type===t.type)),Fe=e=>e.trim().length>0?Number(e):null,je=e=>"number"==typeof e?e:"",Ue=e=>"number"==typeof e?e:void 0,Ge=e=>e.uid||Pe(),_e=e=>void 0!==e.id?e.id:e.value,Ve=e=>{var t;const n=e.showIf;let r=()=>!0;if(n||(null==n?void 0:n.trim())){const e=new Function("elements","replaceVariables","context",n);r=({elements:t,replaceVariables:n})=>e(t,n,{panel:{elements:t},grafana:{replaceVariables:n}})}const a=e.disableIf;let o=()=>!1;if(a||(null==a?void 0:a.trim())){const e=new Function("elements","replaceVariables","context",a);o=({elements:t,replaceVariables:n})=>e(t,n,{panel:{elements:t},grafana:{replaceVariables:n}})}let i=()=>[];if(e.type===x.DISABLED||e.type===x.SELECT||e.type===x.MULTISELECT||e.type===x.RADIO)if(e.optionsSource===L.QUERY)i=({data:t})=>{const{queryOptions:n}=e;if(!n||!n.value)return[];const r=t.series.find((e=>e.refId===n.source)),a=null==r?void 0:r.fields.find((e=>e.name===n.value));if(!r||!a)return[];const o=Ae((null==r?void 0:r.fields.find((e=>e.name===n.label)))||a);return Ae(a).map(((e,t)=>({value:e,label:o[t]})))};else if(e.optionsSource===L.CODE){const t=new Function("data","elements","replaceVariables","context",e.getOptions||"return []");i=({data:e,elements:n,replaceVariables:r})=>t(e,n,r,{panel:{data:e,elements:n},grafana:{replaceVariables:r}})}else i=()=>e.options||[];return Me(Ne({},e,"options"in e?{options:null===(t=e.options)||void 0===t?void 0:t.map((e=>Me(Ne({},e),{id:_e(e)})))}:{}),{helpers:{showIf:r,disableIf:o,getOptions:i},uid:Ge(e)})},We=e=>e&&Array.isArray(e)?e.map((e=>Ve(e))):[],$e=e=>{switch(e){case n.DESTRUCTIVE:case n.PRIMARY:case n.SECONDARY:return e;default:return}},He=(e,t)=>e.type===t,qe=(e,t)=>{switch(e.type){case x.STRING:case x.DISABLED_TEXTAREA:case x.CODE:case x.PASSWORD:case x.SECRET:case x.TEXTAREA:case x.LINK:var n;return Me(Ne({},e),{value:"string"==typeof t?t:null!==(n=null==t?void 0:t.toString())&&void 0!==n?n:""});case x.NUMBER:case x.SLIDER:{let n="number"==typeof t?t:0;return"string"==typeof t&&(n=Number(t),Number.isNaN(n)&&(n=0)),Me(Ne({},e),{value:n})}case x.FILE:return Me(Ne({},e),{value:[]});case x.BOOLEAN:return Me(Ne({},e),{value:!!t});case x.DATETIME:return Me(Ne({},e),{value:"string"==typeof t?t:void 0});default:return Me(Ne({},e),{value:t})}};class Ke extends i.BusEventBase{constructor(e){super(),Re(this,"payload",void 0),this.payload=e}}function Qe(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qe(o,r,a,i,l,"next",e)}function l(e){Qe(o,r,a,i,l,"throw",e)}i(void 0)}))}}Re(Ke,"type","value-changed");const Ye=(Je=ze((function*({request:e,elements:t,initial:n,replaceVariables:r}){if(e.payloadMode===de.CUSTOM)return new Function("elements","initial","context",r(e.getPayload))(t,n,{panel:{elements:t,initial:n},utils:{fileToBase64:Xe}});const a=e.payloadMode===de.UPDATED,o={};return t.forEach((e=>{a?e.value!==n[e.id]&&e.type!==x.DISABLED&&(o[e.id]=e.value):o[e.id]=e.value})),o})),function(e){return Je.apply(this,arguments)});var Je;const Xe=e=>new Promise((t=>{const n=new FileReader;n.addEventListener("load",(e=>{var n;"string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)&&t(e.target.result)})),n.readAsDataURL(e)})),Ze=function(){var e=ze((function*(e,t){if("object"!=typeof e||Array.isArray(e)||null===e)return t(JSON.stringify(e));const n={};for(const[t,r]of Object.entries(e))Array.isArray(r)&&r[0]instanceof File?n[t]=yield Promise.all(r.map((e=>Xe(e)))):n[t]=r;return t(JSON.stringify(n))}));return function(t,n){return e.apply(this,arguments)}}(),et=(e,t)=>"string"==typeof e?t(e):e instanceof File?e:`${e}`;var tt=u(944);function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,tt.r)(D.customCodeEditor),(0,tt.r)(D.formElements,["fieldDateTime"]),(0,tt.r)(D.formElementsEditor,["fieldDateTime"]),(0,tt.r)(D.panel),(0,tt.r)(D.headerParametersEditor),(0,tt.r)(D.layoutSectionsEditor);const rt=({onChange:e,value:t,isAutoSave:n=!0})=>{const r=(0,d.useRef)(new i.EventBusSrv),[a,o]=(0,d.useState)(We(t)),[l,s]=(0,d.useState)(!1),{startTimer:c,removeTimer:u}=(()=>{const e=(0,d.useRef)(null),t=(0,d.useCallback)((()=>{e.current&&(clearTimeout(e.current),e.current=null)}),[]);return{startTimer:(0,d.useCallback)((n=>{t(),e.current=setTimeout((()=>{n(),e.current=null}),1e3)}),[t]),removeTimer:t}})(),p=(0,d.useCallback)((()=>{e((e=>e.map((e=>{var{helpers:t}=e;return function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["helpers"])})))(a)),s(!1)}),[a,e]),m=(0,d.useCallback)((e=>{o(e),s(!0)}),[]),f=(0,d.useCallback)(((e,t=!1)=>{if(t&&ke(a,e))return void alert("Element with the same id and type exists.");let n=!1;const o=a.map((t=>t.uid===e.uid?(n=e.value!==t.value,e):t));m(o),n&&r.current.publish(new Ke({elements:o,element:e}))}),[a,m]),g=(0,d.useCallback)(((e,t,{value:n=t.value}={},r=!1)=>{var a,o,i,l,s;return!(!("options"in e)||!e.options||(r&&(o=e.options,i=t,o.some((e=>e.value.toString()===i.value.toString())))?(alert("Option with the same value exists"),1):(f((l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nt(e,t,n[t])}))}return e}({},e),s={options:null===(a=e.options)||void 0===a?void 0:a.map((e=>e.value===n?t:e))},s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(s)).forEach((function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),l)),0)))}),[f]),b=(0,d.useCallback)((e=>{const t=a.filter((t=>t.uid!==e));m(t)}),[a,m]);return(0,d.useEffect)((()=>{o(We(t)),s(!1)}),[t]),(0,d.useEffect)((()=>(n&&l?c(p):u(),()=>{u()})),[c,l,p,u,n]),{elements:a,isChanged:l,onSaveUpdates:p,onChangeElements:m,onChangeElement:f,onChangeElementOption:g,onElementRemove:b,eventBus:r.current}},at=({value:e,onChange:t})=>{const n=Oe(),r=(0,d.useMemo)((()=>n.map((e=>({label:e.name,value:e.name})))),[n]);return c().createElement(l.Select,{onChange:e=>{t(e.value)},options:r,value:e,"aria-label":D.datasourceEditor.fieldSelect})};const ot=e=>{var{value:t,onChange:n,label:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","onChange","label"]);return c().createElement(l.InlineFieldRow,a,t?c().createElement(c().Fragment,null,c().createElement(l.InlineField,{label:r,labelWidth:8},c().createElement(l.DateTimePicker,{onChange:e=>{n(e.toISOString())},date:(0,i.dateTime)(t),"data-testid":D.formElementsEditor.fieldDateTime})),c().createElement(l.Button,{icon:"minus",onClick:()=>{n("")},variant:"secondary","data-testid":D.formElementsEditor.buttonRemoveDate})):c().createElement(l.InlineField,{label:r,labelWidth:8},c().createElement(l.Button,{icon:"plus",onClick:()=>{n((new Date).toISOString())},variant:"secondary","data-testid":D.formElementsEditor.buttonSetDate},"Set ",r," Date")))};var it=u(729),lt=u.n(it),st=u(129),dt=u(929);function ct(e,t){var n=(0,d.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,d.useRef)(!0),a=(0,d.useRef)(n),o=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return(0,d.useEffect)((function(){r.current=!1,a.current=o}),[o]),o.result}var ut=ct,pt=function(e,t){return ct((function(){return e}),t)},mt=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},ft=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},gt=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},bt={top:0,right:0,bottom:0,left:0},ht=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?bt:n,a=e.border,o=void 0===a?bt:a,i=e.padding,l=void 0===i?bt:i,s=mt(ft(t,r)),d=mt(gt(t,o)),c=mt(gt(d,l));return{marginBox:s,borderBox:mt(t),paddingBox:d,contentBox:c,margin:r,border:o,padding:l}},vt=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){throw new Error("Invariant failed")}(),n},yt=function(e,t){var n,r,a=e.borderBox,o=e.border,i=e.margin,l=e.padding,s=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ht({borderBox:s,border:o,margin:i,padding:l})},Et=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),yt(e,t)},It=function(e,t){var n={top:vt(t.marginTop),right:vt(t.marginRight),bottom:vt(t.marginBottom),left:vt(t.marginLeft)},r={top:vt(t.paddingTop),right:vt(t.paddingRight),bottom:vt(t.paddingBottom),left:vt(t.paddingLeft)},a={top:vt(t.borderTopWidth),right:vt(t.borderRightWidth),bottom:vt(t.borderBottomWidth),left:vt(t.borderLeftWidth)};return ht({borderBox:e,margin:n,padding:r,border:a})},St=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return It(t,n)},Ot=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Ct(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(a=t[n])||Ot(r)&&Ot(a)))return!1;var r,a;return!0}function wt(e,t){void 0===t&&(t=Ct);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}const Dt=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function Tt(e,t){}function Pt(){}function At(e,t,n){const r=t.map((t=>{const r=(a=n,o=t.options,{...a,...o});var a,o;return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}Tt.bind(null,"warn"),Tt.bind(null,"error");const Rt=!0,Nt="Invariant failed";class Mt extends Error{}function Lt(e,t){if(!e)throw new Mt(Rt?Nt:`${Nt}: ${t||""}`)}Mt.prototype.toString=function(){return this.message};class Bt extends c().Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Pt,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort(),e.error instanceof Mt&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=At(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Mt))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const kt=e=>e+1,Ft=(e,t)=>{const n=e.droppableId===t.droppableId,r=kt(e.index),a=kt(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${a}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${a}\n  `},jt=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,Ut=e=>`\n  The item has returned to its starting position\n  of ${kt(e.index)}\n`,Gt={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${kt(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return Ft(e.source,t);const n=e.combine;return n?jt(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${Ut(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${Ft(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${jt(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${Ut(e.source)}\n  `}};var _t=Gt;const Vt={x:0,y:0},Wt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),$t=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ht=(e,t)=>e.x===t.x&&e.y===t.y,qt=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),Kt=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},Qt=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),zt=(e,t)=>Math.min(...t.map((t=>Qt(e,t)))),Yt=e=>t=>({x:e(t.x),y:e(t.y)}),Jt=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Xt=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Zt=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=mt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):mt(e);var en=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const a=((e,t)=>t?Jt(e,t.scroll.diff.displacement):e)(e.marginBox,r),o=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(a,n,t);return{page:e,withPlaceholder:t,active:Zt(o,r)}},tn=(e,t)=>{e.frame||Lt(!1);const n=e.frame,r=$t(t,n.scroll.initial),a=qt(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}},i=en({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};const nn=wt((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),rn=wt((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),an=wt((e=>Object.values(e))),on=wt((e=>Object.values(e)));var ln=wt(((e,t)=>{const n=on(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function sn(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function dn(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var cn=wt(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),un=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const pn={point:Vt,value:0},mn={invisible:{},visible:{},all:[]};var fn={displaced:mn,displacedBy:pn,at:null},gn=(e,t)=>n=>e<=n&&n<=t,bn=e=>{const t=gn(e.top,e.bottom),n=gn(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const i=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!i||!l)||(i&&o||l&&a)}},hn=e=>{const t=gn(e.top,e.bottom),n=gn(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const vn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},yn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},En=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:a})=>{const o=r?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Vt;return Jt(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(o,t,a)&&((e,t,n)=>n(t)(e))(o,n,a)},In=e=>En({...e,isVisibleThroughFrameFn:bn}),Sn=e=>En({...e,isVisibleThroughFrameFn:hn}),On=(e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:r,visible:a}=t;if(r[e])return!1;const o=a[e];return!o||o.shouldAnimate};function Cn({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:a,last:o}){return e.reduce((function(e,i){const l=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return mt(ft(n,r))}(i,n),s=i.descriptor.id;if(e.all.push(s),!In({target:l,destination:t,viewport:r,withDroppableDisplacement:!0}))return e.invisible[i.descriptor.id]=!0,e;const d={draggableId:s,shouldAnimate:On(s,o,a)};return e.visible[s]=d,e}),{all:[],visible:{},invisible:{}})}function wn({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const a=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:mn,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Dn({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:a,last:o,index:i,forceShouldAnimate:l}){const s=un(e,n);if(null==i)return wn({insideDestination:t,inHomeList:s,displacedBy:a,destination:n});const d=t.find((e=>e.descriptor.index===i));if(!d)return wn({insideDestination:t,inHomeList:s,displacedBy:a,destination:n});const c=cn(e,t),u=t.indexOf(d);return{displaced:Cn({afterDragging:c.slice(u),destination:n,displacedBy:a,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function xn(e,t){return Boolean(t.effected[e])}const Tn=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Pn=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,An=({axis:e,moveRelativeTo:t,isMoving:n})=>Kt(e.line,t.marginBox[e.end]+Tn(e,n),Pn(e,t.marginBox,n)),Rn=({axis:e,moveRelativeTo:t,isMoving:n})=>Kt(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),Pn(e,t.marginBox,n));var Nn=(e,t)=>{const n=e.frame;return n?Wt(t,n.scroll.diff.displacement):t},Mn=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:a})=>{const o=t.page.borderBox.center,i=e.at;return n&&i?"REORDER"===i.type?(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a})=>{const o=ln(r.descriptor.id,n),i=t.page,l=r.axis;if(!o.length)return(({axis:e,moveInto:t,isMoving:n})=>Kt(e.line,t.contentBox[e.start]+Tn(e,n),Pn(e,t.contentBox,n)))({axis:l,moveInto:r.page,isMoving:i});const{displaced:s,displacedBy:d}=e,c=s.all[0];if(c){const e=n[c];if(xn(c,a))return Rn({axis:l,moveRelativeTo:e.page,isMoving:i});const t=yt(e.page,d.point);return Rn({axis:l,moveRelativeTo:t,isMoving:i})}const u=o[o.length-1];if(u.descriptor.id===t.descriptor.id)return i.borderBox.center;if(xn(u.descriptor.id,a)){const e=yt(u.page,qt(a.displacedBy.point));return An({axis:l,moveRelativeTo:e,isMoving:i})}return An({axis:l,moveRelativeTo:u.page,isMoving:i})})({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a}):(({afterCritical:e,impact:t,draggables:n})=>{const r=dn(t);r||Lt(!1);const a=r.draggableId,o=n[a].page.borderBox.center,i=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const a=Boolean(e.visible[n]||e.invisible[n]);return xn(n,t)?a?Vt:qt(r.point):a?r.point:Vt})({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Wt(o,i)})({impact:e,draggables:r,afterCritical:a}):o})(e),n=e.droppable;return n?Nn(n,t):t},Ln=(e,t)=>{const n=$t(t,e.scroll.initial),r=qt(n);return{frame:mt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Bn(e,t){return e.map((e=>t[e]))}var kn=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=((e,t)=>Wt(e.scroll.diff.displacement,t))(n,e),a=$t(r,t.page.borderBox.center);return Wt(t.client.borderBox.center,a)},Fn=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:a,onlyOnMainAxis:o=!1})=>{const i=$t(n,e.page.borderBox.center),l={target:Jt(e.page.borderBox,i),destination:t,withDroppableDisplacement:a,viewport:r};return o?(e=>{return En({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=gn(e.top,e.bottom),r=gn(e.left,e.right);return e=>t===vn?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):Sn(l)},jn=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:a,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:s})=>{if(!n.isEnabled)return null;const d=ln(n.descriptor.id,r),c=un(t,n),u=(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:a})=>{if(!n.isCombineEnabled)return null;if(!sn(a))return null;function o(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...a,at:t}}const i=a.displaced.all,l=i.length?i[0]:null;if(e)return l?o(l):null;const s=cn(t,r);if(!l)return s.length?o(s[s.length-1].descriptor.id):null;const d=s.findIndex((e=>e.descriptor.id===l));-1===d&&Lt(!1);const c=d-1;return c<0?null:o(s[c].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:a})||(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:a,insideDestination:o,previousImpact:i,viewport:l,afterCritical:s})=>{const d=i.at;if(d||Lt(!1),"REORDER"===d.type){const r=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const a=r.index,o=e?a+1:a-1,i=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return o<i||o>(t?l:l+1)?null:o})({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return null==r?null:Dn({draggable:n,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:r})}const c=(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,i=n[o].descriptor.index;return xn(o,a)?e?i:i-1:e?i+1:i})({isMovingForward:e,destination:a,displaced:i.displaced,draggables:r,combine:d.combine,afterCritical:s});return null==c?null:Dn({draggable:n,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:c})})({isMovingForward:e,isInHomeList:c,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:a,viewport:o,afterCritical:s});if(!u)return null;const p=Mn({impact:u,draggable:t,droppable:n,draggables:r,afterCritical:s});if(Fn({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:kn({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:u,scrollJumpRequest:null};const m=$t(p,i),f=(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:a})=>{const o=Ln(t,Wt(t.scroll.current,a)),i=n.frame?tn(n,Wt(n.frame.scroll.current,a)):n,l=e.displaced,s=Cn({afterDragging:Bn(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Cn({afterDragging:Bn(l.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),c={},u={},p=[l,s,d];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?u[e]=t:c[e]=!0})),{...e,displaced:{all:l.all,invisible:c,visible:u}}})({impact:u,viewport:o,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:l,impact:f,scrollJumpRequest:m}};const Un=e=>{const t=e.subject.active;return t||Lt(!1),t},Gn=(e,t)=>{const n=e.page.borderBox.center;return xn(e.descriptor.id,t)?$t(n,t.displacedBy.point):n},_n=(e,t)=>{const n=e.page.borderBox;return xn(e.descriptor.id,t)?Jt(n,qt(t.displacedBy.point)):n};var Vn=wt((function(e,t){const n=t[e.line];return{value:n,point:Kt(e.line,n)}}));const Wn=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),$n=(e,t,n)=>{const r=e.frame;un(t,e)&&Lt(!1),e.subject.withPlaceholder&&Lt(!1);const a=Vn(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return Kt(r.line,t[r.line]);const a=e.subject.page.contentBox[r.size],o=ln(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-a;return o<=0?null:Kt(r.line,o)})(e,a,n),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=en({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:t}}const l=o?Wt(r.scroll.max,o):r.scroll.max,s=Wn(r,l),d=en({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:s});return{...e,subject:d,frame:s}};var Hn=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},qn=({state:e,type:t})=>{const n=((e,t)=>{const n=Hn(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),r=Boolean(n),a=e.dimensions.droppables[e.critical.droppable.id],o=n||a,i=o.axis.direction,l="vertical"===i&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===i&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(l&&!r)return null;const s="MOVE_DOWN"===t||"MOVE_RIGHT"===t,d=e.dimensions.draggables[e.critical.draggable.id],c=e.current.page.borderBoxCenter,{draggables:u,droppables:p}=e.dimensions;return l?jn({isMovingForward:s,previousPageBorderBoxCenter:c,draggable:d,destination:o,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:a,droppables:o,viewport:i,afterCritical:l})=>{const s=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:a})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,l=gn(o[i.start],o[i.end]),s=an(r).filter((e=>e!==n)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>bn(a.frame)(Un(e)))).filter((t=>{const n=Un(t);return e?o[i.crossAxisEnd]<n[i.crossAxisEnd]:n[i.crossAxisStart]<o[i.crossAxisStart]})).filter((e=>{const t=Un(e),n=gn(t[i.start],t[i.end]);return l(t[i.start])||l(t[i.end])||n(o[i.start])||n(o[i.end])})).sort(((t,n)=>{const r=Un(t)[i.crossAxisStart],a=Un(n)[i.crossAxisStart];return e?r-a:a-r})).filter(((e,t,n)=>Un(e)[i.crossAxisStart]===Un(n[0])[i.crossAxisStart]));if(!s.length)return null;if(1===s.length)return s[0];const d=s.filter((e=>gn(Un(e)[i.start],Un(e)[i.end])(t[i.line])));return 1===d.length?d[0]:d.length>1?d.sort(((e,t)=>Un(e)[i.start]-Un(t)[i.start]))[0]:s.sort(((e,n)=>{const r=zt(t,Xt(Un(e))),a=zt(t,Xt(Un(n)));return r!==a?r-a:Un(e)[i.start]-Un(n)[i.start]}))[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!s)return null;const d=ln(s.descriptor.id,a),c=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:a})=>{const o=r.filter((e=>Sn({target:_n(e,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0}))).sort(((t,r)=>{const o=Qt(e,Nn(n,Gn(t,a))),i=Qt(e,Nn(n,Gn(r,a)));return o<i?-1:i<o?1:t.descriptor.index-r.descriptor.index}));return o[0]||null})({pageBorderBoxCenter:t,viewport:i,destination:s,insideDestination:d,afterCritical:l}),u=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:a,destination:o,viewport:i,afterCritical:l})=>{if(!t){if(n.length)return null;const e={displaced:mn,displacedBy:pn,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},t=Mn({impact:e,draggable:r,droppable:o,draggables:a,afterCritical:l}),s=un(r,o)?o:$n(o,r,a);return Fn({draggable:r,destination:s,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const s=Boolean(e[o.axis.line]<=t.page.borderBox.center[o.axis.line]),d=(()=>{const e=t.descriptor.index;return t.descriptor.id===r.descriptor.id||s?e:e+1})(),c=Vn(o.axis,r.displaceBy);return Dn({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:c,last:mn,index:d})})({previousPageBorderBoxCenter:t,destination:s,draggable:n,draggables:a,moveRelativeTo:c,insideDestination:d,viewport:i,afterCritical:l});if(!u)return null;const p=Mn({impact:u,draggable:n,droppable:s,draggables:a,afterCritical:l});return{clientSelection:kn({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:u,scrollJumpRequest:null}})({isMovingForward:s,previousPageBorderBoxCenter:c,draggable:d,isOver:o,draggables:u,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Kn(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Qn(e){const t=gn(e.top,e.bottom),n=gn(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}const zn=(e,t)=>mt(Jt(e,t));function Yn({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var Jn=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:a,viewport:o,afterCritical:i})=>{const l=zn(t.page.borderBox,e),s=function({pageBorderBox:e,draggable:t,droppables:n}){const r=an(n).filter((t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(a=n,!((r=e).left<a.right&&r.right>a.left&&r.top<a.bottom&&r.bottom>a.top))return!1;var r,a;if(Qn(n)(e.center))return!0;const o=t.axis,i=n.center[o.crossAxisLine],l=e[o.crossAxisStart],s=e[o.crossAxisEnd],d=gn(n[o.crossAxisStart],n[o.crossAxisEnd]),c=d(l),u=d(s);return!c&&!u||(c?l<i:s>i)}));return r.length?1===r.length?r[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,a=n.map((t=>{const n=t.axis,a=Kt(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:Qt(r,a)}})).sort(((e,t)=>t.distance-e.distance));return a[0]?a[0].id:null}({pageBorderBox:e,draggable:t,candidates:r}):null}({pageBorderBox:l,draggable:t,droppables:r});if(!s)return fn;const d=r[s],c=ln(d.descriptor.id,n),u=((e,t)=>{const n=e.frame;return n?zn(t,n.scroll.diff.value):t})(d,l);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:a,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,l=Vn(r.axis,e.displaceBy),s=l.value,d=t[i.start],c=t[i.end],u=cn(e,a).find((e=>{const t=e.descriptor.id,r=e.page.borderBox,a=r[i.size]/4,l=xn(t,o),u=Yn({displaced:n.displaced,id:t});return l?u?c>r[i.start]+a&&c<r[i.end]-a:d>r[i.start]-s+a&&d<r[i.end]-s-a:u?c>r[i.start]+s+a&&c<r[i.end]+s-a:d>r[i.start]+a&&d<r[i.end]-a}));return u?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:r.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:a,destination:d,insideDestination:c,afterCritical:i})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:a,viewport:o,afterCritical:i})=>{const l=n.axis,s=Vn(n.axis,t.displaceBy),d=s.value,c=e[l.start],u=e[l.end],p=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:cn(t,r).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=xn(t,i),o=Yn({displaced:a,id:t});return r?o?u<=n:c<n-d:o?u<=n+d:c<n}))||null,inHomeList:un(t,n)});return Dn({draggable:t,insideDestination:r,destination:n,viewport:o,last:a,displacedBy:s,index:p})})({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:c,last:a.displaced,viewport:o,afterCritical:i})},Xn=(e,t)=>({...e,[t.descriptor.id]:t});var Zn=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:a,scrollJumpRequest:o})=>{const i=r||e.viewport,l=n||e.dimensions,s=t||e.current.client.selection,d=$t(s,e.initial.client.selection),c={offset:d,selection:s,borderBoxCenter:Wt(e.initial.client.borderBoxCenter,d)},u={selection:Wt(c.selection,i.scroll.current),borderBoxCenter:Wt(c.borderBoxCenter,i.scroll.current),offset:Wt(c.offset,i.scroll.diff.value)},p={client:c,page:u};if("COLLECTING"===e.phase)return{...e,dimensions:l,viewport:i,current:p};const m=l.draggables[e.critical.draggable.id],f=a||Jn({pageOffset:u.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),g=(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:a})=>{const o=(({previousImpact:e,impact:t,droppables:n})=>{const r=Hn(e),a=Hn(t);if(!r)return n;if(r===a)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||Lt(!1);const n=e.frame;if(!n){const t=en({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||Lt(!1);const a=Wn(n,r),o=en({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:o,frame:a}})(o);return Xn(n,i)})({previousImpact:r,impact:a,droppables:n}),i=Hn(a);if(!i)return o;const l=n[i];if(un(e,l))return o;if(l.subject.withPlaceholder)return o;const s=$n(l,e,t);return Xn(o,s)})({draggable:m,impact:f,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:g},impact:f,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null}},er=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:a})=>{const o=e.displaced,i=function(e,t){return e.map((e=>t[e]))}(o.all,n),l=Cn({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return{...e,displaced:l}},tr=({impact:e,draggable:t,droppable:n,draggables:r,viewport:a,afterCritical:o})=>{const i=Mn({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return kn({pageBorderBoxCenter:i,draggable:t,viewport:a})},nr=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&Lt(!1);const r=e.impact,a=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:l}=o,s=i[e.critical.draggable.id],d=Hn(r);d||Lt(!1);const c=l[d],u=er({impact:r,viewport:a,destination:c,draggables:i}),p=tr({impact:u,draggable:s,droppable:c,draggables:i,viewport:a,afterCritical:e.afterCritical});return Zn({impact:u,clientSelection:p,state:e,dimensions:o,viewport:a})},rr=({draggable:e,home:t,draggables:n,viewport:r})=>{const a=Vn(t.axis,e.displaceBy),o=ln(t.descriptor.id,n),i=o.indexOf(e);-1===i&&Lt(!1);const l=o.slice(i+1),s=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),d={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:a,effected:s};var c;return{impact:{displaced:Cn({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(c=e.descriptor,{index:c.index,droppableId:c.droppableId})}},afterCritical:d}};const ar=e=>"SNAP"===e.movementMode,or=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:Xn(e.droppables,t)}))(e.dimensions,t);return!ar(e)||n?Zn({state:e,dimensions:r}):nr({state:e,dimensions:r})};function ir(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const lr={phase:"IDLE",completed:null,shouldFlush:!1};var sr=(e=lr,t)=>{if("FLUSH"===t.type)return{...lr,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Lt(!1);const{critical:n,clientSelection:r,viewport:a,dimensions:o,movementMode:i}=t.payload,l=o.draggables[n.draggable.id],s=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Vt},c={client:d,page:{selection:Wt(d.selection,a.scroll.initial),borderBoxCenter:Wt(d.selection,a.scroll.initial),offset:Wt(d.selection,a.scroll.diff.value)}},u=an(o.droppables).every((e=>!e.isFixedOnPage)),{impact:p,afterCritical:m}=rr({draggable:l,home:s,draggables:o.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:c,current:c,isWindowScrollAllowed:u,impact:p,afterCritical:m,onLiftImpact:p,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Lt(!1),{...e,phase:"COLLECTING"});if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Lt(!1),(({state:e,published:t})=>{const n=t.modified.map((t=>{const n=e.dimensions.droppables[t.droppableId];return tn(n,t.scroll)})),r={...e.dimensions.droppables,...nn(n)},a=rn((({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map((e=>{const a=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||Lt(!1),t})(t[a]),i=o.scroll.diff.value,l=(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=yt(e.client,t),a=Et(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:a}})({draggable:e,offset:Wt(r,i),initialWindowScroll:n.scroll.initial});return l}))})({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...a};t.removals.forEach((e=>{delete o[e]}));const i={droppables:r,draggables:o},l=Hn(e.impact),s=l?i.droppables[l]:null,d=i.draggables[e.critical.draggable.id],c=i.droppables[e.critical.droppable.id],{impact:u,afterCritical:p}=rr({draggable:d,home:c,draggables:o,viewport:e.viewport}),m=s&&s.isCombineEnabled?e.impact:u,f=Jn({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),g={...e,phase:"DRAGGING",impact:f,onLiftImpact:u,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Kn(e)||Lt(!1);const{client:n}=t.payload;return Ht(n,e.current.client.selection)?e:Zn({state:e,clientSelection:n,impact:ar(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ir(e);if("COLLECTING"===e.phase)return ir(e);Kn(e)||Lt(!1);const{id:n,newScroll:r}=t.payload,a=e.dimensions.droppables[n];if(!a)return e;const o=tn(a,r);return or(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Kn(e)||Lt(!1);const{id:n,isEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||Lt(!1),a.isEnabled===r&&Lt(!1);const o={...a,isEnabled:r};return or(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Kn(e)||Lt(!1);const{id:n,isCombineEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||Lt(!1),a.isCombineEnabled===r&&Lt(!1);const o={...a,isCombineEnabled:r};return or(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Kn(e)||Lt(!1),e.isWindowScrollAllowed||Lt(!1);const n=t.payload.newScroll;if(Ht(e.viewport.scroll.current,n))return ir(e);const r=Ln(e.viewport,n);return ar(e)?nr({state:e,viewport:r}):Zn({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Kn(e))return e;const n=t.payload.maxScroll;if(Ht(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Lt(!1);const n=qn({state:e,type:t.type});return n?Zn({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;return"COLLECTING"!==e.phase&&Lt(!1),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:a}=t.payload;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Lt(!1),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};const dr=e=>({type:"LIFT",payload:e}),cr=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),ur=()=>({type:"COLLECTION_STARTING",payload:null}),pr=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),mr=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),fr=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),gr=e=>({type:"MOVE",payload:e}),br=()=>({type:"MOVE_UP",payload:null}),hr=()=>({type:"MOVE_DOWN",payload:null}),vr=()=>({type:"MOVE_RIGHT",payload:null}),yr=()=>({type:"MOVE_LEFT",payload:null}),Er=()=>({type:"FLUSH",payload:null}),Ir=e=>({type:"DROP_COMPLETE",payload:e}),Sr=e=>({type:"DROP",payload:e}),Or="cubic-bezier(.2,1,.1,1)",Cr=0,wr=.7,Dr=.75,xr={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Tr=`${xr.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,Pr={fluid:`opacity ${Tr}`,snap:`transform ${Tr}, opacity ${Tr}`,drop:e=>{const t=`${e}s ${Or}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Tr}`,placeholder:`height ${Tr}, width ${Tr}, margin ${Tr}`},Ar=e=>Ht(e,Vt)?void 0:`translate(${e.x}px, ${e.y}px)`,Rr=Ar,Nr=(e,t)=>{const n=Ar(e);if(n)return t?`${n} scale(${Dr})`:n},{minDropTime:Mr,maxDropTime:Lr}=xr,Br=Lr-Mr;var kr=({getState:e,dispatch:t})=>n=>r=>{if("DROP"!==r.type)return void n(r);const a=e(),o=r.payload.reason;if("COLLECTING"===a.phase)return void t((i={reason:o},{type:"DROP_PENDING",payload:i}));var i;if("IDLE"===a.phase)return;"DROP_PENDING"===a.phase&&a.isWaiting&&Lt(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Lt(!1);const l=a.critical,s=a.dimensions,d=s.draggables[a.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(({draggables:e,reason:t,lastImpact:n,home:r,viewport:a,onLiftImpact:o})=>n.at&&"DROP"===t?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:mn},didDropInsideDroppable:!0}:{impact:er({draggables:e,impact:o,destination:r,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1})({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),p=u?sn(c):null,m=u?dn(c):null,f={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:d.descriptor.id,type:d.descriptor.type,source:f,reason:o,mode:a.movementMode,destination:p,combine:m},b=(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:a})=>{const{draggables:o,droppables:i}=n,l=Hn(e),s=l?i[l]:null,d=i[t.descriptor.droppableId],c=tr({impact:e,draggable:t,draggables:o,afterCritical:a,droppable:s||d,viewport:r});return $t(c,t.client.borderBox.center)})({impact:c,draggable:d,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),h={critical:a.critical,afterCritical:a.afterCritical,result:g,impact:c};if(Ht(a.current.client.offset,b)&&!Boolean(g.combine))return void t(Ir({completed:h}));const v=(({current:e,destination:t,reason:n})=>{const r=Qt(e,t);if(r<=0)return Mr;if(r>=1500)return Lr;const a=Mr+Br*(r/1500);return Number(("CANCEL"===n?.6*a:a).toFixed(2))})({current:a.current.client.offset,destination:b,reason:o});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:b,dropDuration:v,completed:h}))},Fr=()=>({x:window.pageXOffset,y:window.pageYOffset});var jr=e=>{const t=function({onWindowScroll:e}){const t=Dt((function(){e(Fr())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(t);let r=Pt;function a(){return r!==Pt}return{start:function(){a()&&Lt(!1),r=At(window,[n])},stop:function(){a()||Lt(!1),t.cancel(),r(),r=Pt},isActive:a}}({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&(e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(n)&&t.stop(),e(n)}};const Ur=(e,t)=>{t()},Gr=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function _r(e,t,n,r){if(!e)return void n(r(t));const a=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),a=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=()=>t,a})(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}var Vr=(e,t)=>{const n=((e,t)=>{const n=(()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&Lt(!1);const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}})();let r=null;const a=n=>{r||Lt(!1),r=null,Ur(0,(()=>_r(e().onDragEnd,n,t,_t.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&Lt(!1),Ur(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&Lt(!1),Ur(0,(()=>{const r=e().onBeforeDragStart;r&&r(Gr(t,n))}))},start:(a,o)=>{r&&Lt(!1);const i=Gr(a,o);r={mode:o,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add((()=>{Ur(0,(()=>_r(e().onDragStart,i,t,_t.onDragStart)))}))},update:(a,o)=>{const i=sn(o),l=dn(o);r||Lt(!1);const s=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(a,r.lastCritical);s&&(r.lastCritical=a);const d=(u=i,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));var c,u;d&&(r.lastLocation=i);const p=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,l);if(p&&(r.lastCombine=l),!s&&!d&&!p)return;const m={...Gr(a,r.mode),combine:l,destination:i};n.add((()=>{Ur(0,(()=>_r(e().onDragUpdate,m,t,_t.onDragUpdate)))}))},flush:()=>{r||Lt(!1),n.flush()},drop:a,abort:()=>{if(!r)return;const e={...Gr(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};a(e)}}})(e,t);return e=>t=>r=>{if("BEFORE_INITIAL_CAPTURE"===r.type)return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if("INITIAL_PUBLISH"===r.type){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),"FLUSH"===r.type)return void n.abort();const a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}},Wr=e=>t=>n=>{if("DROP_ANIMATION_FINISHED"!==n.type)return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&Lt(!1),e.dispatch(Ir({completed:r.completed}))},$r=e=>{let t=null,n=null;return r=>a=>{if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"!==a.type)return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=At(window,[o])}))}},Hr=e=>t=>n=>{if(t(n),"PUBLISH_WHILE_DRAGGING"!==n.type)return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Sr({reason:r.reason})))};const qr=st.compose;var Kr=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:a,autoScroller:o})=>{return(0,st.createStore)(sr,qr((0,st.applyMiddleware)((i=n,()=>e=>t=>{"INITIAL_PUBLISH"===t.type&&i.dragging(),"DROP_ANIMATE"===t.type&&i.dropping(t.payload.completed.result.reason),"FLUSH"!==t.type&&"DROP_COMPLETE"!==t.type||i.resting(),e(t)}),(e=>()=>t=>n=>{"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>r=>a=>{if("LIFT"!==a.type)return void r(a);const{id:o,clientSelection:i,movementMode:l}=a.payload,s=t();"DROP_ANIMATING"===s.phase&&n(Ir({completed:s.completed})),"IDLE"!==t().phase&&Lt(!1),n(Er()),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:l}});const d={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},{critical:c,dimensions:u,viewport:p}=e.startPublishing(d);n({type:"INITIAL_PUBLISH",payload:{critical:c,dimensions:u,clientSelection:i,movementMode:l,viewport:p}})})(e),kr,Wr,$r,Hr,(e=>t=>n=>r=>{if((e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);const a=t.getState();return"DRAGGING"!==a.phase&&Lt(!1),void e.start(a)}n(r),e.scroll(t.getState())})(o),jr,(e=>{let t=!1;return()=>n=>r=>{if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),Vr(r,a))));var i},Qr=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const a=$t({x:t,y:e},{x:r,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},zr=()=>{const e=document.documentElement;return e||Lt(!1),e},Yr=()=>{const e=zr();return Qr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Jr(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Xr=(e,t)=>{let n=null;const r=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},r=null;const a=()=>{r||(t.collectionStarting(),r=requestAnimationFrame((()=>{r=null;const{additions:a,removals:o,modified:i}=n,l=Object.keys(a).map((t=>e.draggable.getById(t).getDimension(Vt))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),s=Object.keys(i).map((t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}))),d={additions:l,removals:Object.keys(o),modified:s};n={additions:{},removals:{},modified:{}},t.publish(d)})))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],a()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],a()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=t=>{n||Lt(!1);const a=n.critical.draggable;"ADDITION"===t.type&&Jr(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Jr(e,a,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:(r,a)=>{e.droppable.exists(r)||Lt(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:(r,a)=>{n&&(e.droppable.exists(r)||Lt(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,a)=>{n&&(e.droppable.exists(r)||Lt(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:t=>{n&&Lt(!1);const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:o.descriptor},l=e.subscribe(a);return n={critical:i,unsubscribe:l},(({critical:e,scrollOptions:t,registry:n})=>{const r=(()=>{const e=Fr(),t=Yr(),n=e.y,r=e.x,a=zr(),o=a.clientWidth,i=a.clientHeight;return{frame:mt({top:n,left:r,right:r+o,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:Vt,displacement:Vt}}}})(),a=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map((e=>e.callbacks.getDimensionAndWatchScroll(a,t))),l=n.draggable.getAllByType(e.draggable.type).map((e=>e.getDimension(a)));return{dimensions:{draggables:rn(l),droppables:nn(i)},critical:e,viewport:r}})({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}}},Zr=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason,ea=e=>{window.scrollBy(e.x,e.y)};const ta=wt((e=>an(e).filter((e=>!!e.isEnabled&&!!e.frame))));const na={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var ra=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return 0===r?0:(n-e)/r},aa=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:a})=>{const o=((e,t,n=(()=>na))=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const a=1-ra({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)})(e,t,a);return 0===o?0:r?Math.max(((e,t,n)=>{const r=n(),a=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,l=o,s=Date.now()-i;if(s>=o)return e;if(s<a)return 1;const d=ra({startOfRange:a,endOfRange:l,current:s}),c=e*r.ease(d);return Math.ceil(c)})(o,n,a),1):o},oa=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=((e,t,n=(()=>na))=>{const r=n();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}})(e,r,o);return t[r.end]<t[r.start]?aa({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*aa({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})};const ia=Yt((e=>0===e?0:e));var la=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=oa({container:t,distanceToEdges:i,dragStartTime:e,axis:vn,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),s=oa({container:t,distanceToEdges:i,dragStartTime:e,axis:yn,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),d=ia({x:s,y:l});if(Ht(d,Vt))return null;const c=(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,a=t.width>e.width;return a||r?a&&r?null:{x:a?0:n.x,y:r?0:n.y}:n})({container:t,subject:n,proposedScroll:d});return c?Ht(c,Vt)?null:c:null};const sa=Yt((e=>0===e?0:e>0?1:-1)),da=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:r})=>{const a=Wt(t,r),o={x:e(a.x,n.x),y:e(a.y,n.y)};return Ht(o,Vt)?null:o}})(),ca=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=sa(n),o=da({max:r,current:t,change:a});return!o||0!==a.x&&0===o.x||0!==a.y&&0===o.y},ua=(e,t)=>ca({current:e.scroll.current,max:e.scroll.max,change:t}),pa=(e,t)=>{const n=e.frame;return!!n&&ca({current:n.scroll.current,max:n.scroll.max,change:t})};var ma=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:a,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const a=(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=la({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return i&&ua(e,i)?i:null})({dragStartTime:t,viewport:e.viewport,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(a)return void r(a)}const s=(({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const r=((e,t)=>{const n=ta(t).find((t=>(t.frame||Lt(!1),Qn(t.frame.pageMarginBox)(e))))||null;return n})(e,n);return r})({center:i,destination:Hn(e.impact),droppables:e.dimensions.droppables});if(!s)return;const d=(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const l=la({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return l&&pa(e,l)?l:null})({dragStartTime:t,droppable:s,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});d&&a(s.descriptor.id,d)},fa=({move:e,scrollDroppable:t,scrollWindow:n})=>r=>{const a=r.scrollJumpRequest;if(!a)return;const o=Hn(r.impact);o||Lt(!1);const i=((e,n)=>{if(!pa(e,n))return n;const r=((e,t)=>{const n=e.frame;return n&&pa(e,t)?da({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!r)return t(e.descriptor.id,n),null;const a=$t(n,r);return t(e.descriptor.id,a),$t(n,a)})(r.dimensions.droppables[o],a);if(!i)return;const l=r.viewport,s=((e,t,r)=>{if(!e)return r;if(!ua(t,r))return r;const a=((e,t)=>{if(!ua(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return da({current:r,max:n,change:t})})(t,r);if(!a)return n(r),null;const o=$t(r,a);return n(o),$t(r,o)})(r.isWindowScrollAllowed,l,i);s&&((t,n)=>{const r=Wt(t.current.client.selection,n);e({client:r})})(r,s)},ga=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const a=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=(()=>na)})=>{const r=Dt(e),a=Dt(t);let o=null;const i=e=>{o||Lt(!1);const{shouldUseTimeDampening:t,dragStartTime:i}=o;ma({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:i,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{o&&Lt(!1);const t=Date.now();let r=!1;const a=()=>{r=!0};ma({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a,getAutoScrollerOptions:n}),o={dragStartTime:t,shouldUseTimeDampening:r},r&&i(e)},stop:()=>{o&&(r.cancel(),a.cancel(),o=null)},scroll:i}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=fa({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{r().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}};const ba="data-rfd",ha=(()=>{const e=`${ba}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),va=(()=>{const e=`${ba}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ya=(()=>{const e=`${ba}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Ea={contextId:`${ba}-scroll-container-context-id`},Ia=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");var Sa=e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(ha.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),a=[(()=>{const e=`\n      transition: ${Pr.outOfTheWay};\n    `;return{selector:t(va.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(ya.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Ia(a,"always"),resting:Ia(a,"resting"),dragging:Ia(a,"dragging"),dropAnimating:Ia(a,"dropAnimating"),userCancel:Ia(a,"userCancel")}},Oa="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?d.useLayoutEffect:d.useEffect;const Ca=()=>{const e=document.querySelector("head");return e||Lt(!1),e},wa=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Da(e,t){return Array.from(e.querySelectorAll(t))}var xa=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Ta(e){return e instanceof xa(e).HTMLElement}function Pa(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const a=t.descriptor.id,o=r(a);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[a],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||Lt(!1),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=a(e);return t||Lt(!1),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Aa=c().createContext(null),Ra=()=>{const e=document.body;return e||Lt(!1),e},Na={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const Ma=e=>`rfd-announcement-${e}`;let La=0;const Ba={separator:"::"};var ka="useId"in c()?function(e,t=Ba){const n=c().useId();return ut((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}:function(e,t=Ba){return ut((()=>`${e}${t.separator}${La++}`),[t.separator,e])},Fa=c().createContext(null);function ja(e){const t=(0,d.useRef)(e);return(0,d.useEffect)((()=>{t.current=e})),t}function Ua(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const Ga={13:!0,9:!0};var _a=e=>{Ga[e.keyCode]&&e.preventDefault()},Va=(()=>{const e="visibilitychange";return"undefined"==typeof document?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const Wa={type:"IDLE"};function $a(){}const Ha={34:!0,33:!0,36:!0,35:!0};const qa={type:"IDLE"},Ka=["input","button","textarea","select","option","optgroup","video","audio"];function Qa(e,t){if(null==t)return!1;if(Ka.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Qa(e,t.parentElement)}function za(e,t){const n=t.target;return!!Ta(n)&&Qa(e,n)}var Ya=e=>mt(e.getBoundingClientRect()).center;const Ja=(()=>{const e="matches";return"undefined"==typeof document?e:[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function Xa(e,t){return null==e?null:e[Ja](t)?e:Xa(e.parentElement,t)}function Za(e,t){return e.closest?e.closest(t):Xa(e,t)}function eo(e){e.preventDefault()}function to({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!!n()&&e===t}function no({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const a=n.draggable.findById(r);return!!a&&!!a.options.isEnabled&&!!Zr(t.getState(),r)}const ro=[function(e){const t=(0,d.useRef)(Wa),n=(0,d.useRef)(Pt),r=ut((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,i,{sourceEvent:t});if(!a)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),c(a,o)}})),[e]),a=ut((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),o=pt((function(){n.current=At(window,[a,r],{passive:!1,capture:!0})}),[a,r]),i=pt((()=>{"IDLE"!==t.current.type&&(t.current=Wa,n.current(),o())}),[o]),l=pt((()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[i]),s=pt((function(){const e=function({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:a,clientY:o}=e;if(0!==t)return;const i={x:a,y:o},l=n();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(i);if("PENDING"!==l.type&&Lt(!1),s=l.point,d=i,!(Math.abs(d.x-s.x)>=5||Math.abs(d.y-s.y)>=5))return;var s,d;e.preventDefault();const c=l.actions.fluidLift(i);r({type:"DRAGGING",actions:c})}},{eventName:"mouseup",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void _a(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const r=n();"IDLE"===r.type&&Lt(!1),r.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:Va,fn:e}]}({cancel:l,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=At(window,e,{capture:!0,passive:!1})}),[l,i]),c=pt((function(e,n){"IDLE"!==t.current.type&&Lt(!1),t.current={type:"PENDING",point:n,actions:e},s()}),[s]);Oa((function(){return o(),function(){n.current()}}),[o])},function(e){const t=(0,d.useRef)($a),n=ut((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const a=e.findClosestDraggableId(n);if(!a)return;const o=e.tryGetLock(a,s,{sourceEvent:n});if(!o)return;n.preventDefault();let i=!0;const l=o.snapLift();function s(){i||Lt(!1),i=!1,t.current(),r()}t.current(),t.current=At(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Ha[r.keyCode]?r.preventDefault():_a(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Va,fn:n}]}(l,s),{capture:!0,passive:!1})}})),[e]),r=pt((function(){t.current=At(window,[n],{passive:!1,capture:!0})}),[n]);Oa((function(){return r(),function(){t.current()}}),[r])},function(e){const t=(0,d.useRef)(qa),n=(0,d.useRef)(Pt),r=pt((function(){return t.current}),[]),a=pt((function(e){t.current=e}),[]),o=ut((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,l,{sourceEvent:t});if(!a)return;const o=t.touches[0],{clientX:i,clientY:s}=o,d={x:i,y:s};n.current(),p(a,d)}})),[e]),i=pt((function(){n.current=At(window,[o],{capture:!0,passive:!1})}),[o]),l=pt((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(qa),n.current(),i())}),[i,a]),s=pt((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),c=pt((function(){const e={capture:!0,passive:!1},t={cancel:s,completed:l,getPhase:r},a=At(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const r=n();if("DRAGGING"!==r.type)return void e();r.hasMoved=!0;const{clientX:a,clientY:o}=t.touches[0],i={x:a,y:o};t.preventDefault(),r.actions.move(i)}},{eventName:"touchend",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const r=n();"IDLE"===r.type&&Lt(!1);const a=t.touches[0];if(!a)return;if(!(a.force>=.15))return;const o=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return o?r.hasMoved?void t.preventDefault():void e():void t.preventDefault();o&&e()}},{eventName:Va,fn:e}]}(t),e),o=At(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:Va,fn:e}]}(t),e);n.current=function(){a(),o()}}),[s,r,l]),u=pt((function(){const e=r();"PENDING"!==e.type&&Lt(!1);const t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,a]),p=pt((function(e,t){"IDLE"!==r().type&&Lt(!1);const n=setTimeout(u,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()}),[c,r,a,u]);Oa((function(){return i(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(qa))}}),[r,i,a]),Oa((function(){return At(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function ao({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:a}){const o=[...a?ro:[],...r||[]],i=(0,d.useState)((()=>function(){let e=null;function t(){e||Lt(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Lt(!1);const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],l=pt((function(e,t){Ua(e)&&!Ua(t)&&i.tryAbandon()}),[i]);Oa((function(){let e=t.getState();return t.subscribe((()=>{const n=t.getState();l(e,n),e=n}))}),[i,t,l]),Oa((()=>i.tryAbandon),[i.tryAbandon]);const s=pt((e=>no({lockAPI:i,registry:n,store:t,draggableId:e})),[i,n,t]),c=pt(((r,a,o)=>function({lockAPI:e,contextId:t,store:n,registry:r,draggableId:a,forceSensorStop:o,sourceEvent:i}){if(!no({lockAPI:e,store:n,registry:r,draggableId:a}))return null;const l=r.draggable.getById(a),s=function(e,t){const n=`[${va.contextId}="${e}"]`,r=Da(document,n).find((e=>e.getAttribute(va.id)===t));return r&&Ta(r)?r:null}(t,l.descriptor.id);if(!s)return null;if(i&&!l.options.canDragInteractiveElements&&za(s,i))return null;const d=e.claim(o||Pt);let c="PRE_DRAG";function u(){return l.options.shouldRespectForcePress}function p(){return e.isActive(d)}const m=function(e,t){to({expected:e,phase:c,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function f(t){function r(){e.release(),c="COMPLETED"}function a(e,a={shouldBlockNextClick:!1}){if(t.cleanup(),a.shouldBlockNextClick){const e=At(window,[{eventName:"click",fn:eo,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(Sr({reason:e}))}return"PRE_DRAG"!==c&&(r(),Lt(!1)),n.dispatch(dr(t.liftActionArgs)),c="DRAGGING",{isActive:()=>to({expected:"DRAGGING",phase:c,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,drop:e=>a("DROP",e),cancel:e=>a("CANCEL",e),...t.actions}}return{isActive:()=>to({expected:"PRE_DRAG",phase:c,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,fluidLift:function(e){const t=Dt((e=>{m((()=>gr({client:e})))}));return{...f({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>m(br),moveRight:()=>m(vr),moveDown:()=>m(hr),moveLeft:()=>m(yr)};return f({liftActionArgs:{id:a,clientSelection:Ya(s),movementMode:"SNAP"},cleanup:Pt,actions:e})},abort:function(){to({expected:"PRE_DRAG",phase:c,isLockActive:p,shouldWarn:!0})&&e.release()}}}({lockAPI:i,registry:n,contextId:e,store:t,draggableId:r,forceSensorStop:a||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[e,i,n,t]),u=pt((t=>function(e,t){const n=function(e,t){const n=t.target;if(!((r=n)instanceof xa(r).Element))return null;var r;const a=function(e){return`[${ha.contextId}="${e}"]`}(e),o=Za(n,a);return o&&Ta(o)?o:null}(e,t);return n?n.getAttribute(ha.draggableId):null}(e,t)),[e]),p=pt((e=>{const t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),m=pt((function(){i.isClaimed()&&(i.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch(Er()))}),[i,t]),f=pt((()=>i.isClaimed()),[i]),g=ut((()=>({canGetLock:s,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:f})),[s,c,u,p,m,f]);for(let e=0;e<o.length;e++)o[e](g)}const oo=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};c().version.startsWith("16")||c().version.startsWith("17")?n():(0,it.flushSync)(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),io=e=>({...na,...e.autoScrollerOptions,durationDampening:{...na.durationDampening,...e.autoScrollerOptions}});function lo(e){return e.current||Lt(!1),e.current}function so(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:a,dragHandleUsageInstructions:o}=e,i=(0,d.useRef)(null),l=ja(e),s=pt((()=>oo(l.current)),[l]),u=pt((()=>io(l.current)),[l]),p=function(e){const t=ut((()=>Ma(e)),[e]),n=(0,d.useRef)(null);return(0,d.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),xt(e.style,Na),Ra().appendChild(e),function(){setTimeout((function(){const t=Ra();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),pt((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),m=function({contextId:e,text:t}){const n=ka("hidden-text",{separator:"-"}),r=ut((()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n})),[n,e]);return(0,d.useEffect)((function(){const e=document.createElement("div");return e.id=r,e.textContent=t,e.style.display="none",Ra().appendChild(e),function(){const t=Ra();t.contains(e)&&t.removeChild(e)}}),[r,t]),r}({contextId:t,text:o}),f=function(e,t){const n=ut((()=>Sa(e)),[e]),r=(0,d.useRef)(null),a=(0,d.useRef)(null),o=pt(wt((e=>{const t=a.current;t||Lt(!1),t.textContent=e})),[]),i=pt((e=>{const t=r.current;t||Lt(!1),t.textContent=e}),[]);Oa((()=>{(r.current||a.current)&&Lt(!1);const l=wa(t),s=wa(t);return r.current=l,a.current=s,l.setAttribute(`${ba}-always`,e),s.setAttribute(`${ba}-dynamic`,e),Ca().appendChild(l),Ca().appendChild(s),i(n.always),o(n.resting),()=>{const e=e=>{const t=e.current;t||Lt(!1),Ca().removeChild(t),e.current=null};e(r),e(a)}}),[t,i,o,n.always,n.resting,e]);const l=pt((()=>o(n.dragging)),[o,n.dragging]),s=pt((e=>{o("DROP"!==e?n.userCancel:n.dropAnimating)}),[o,n.dropAnimating,n.userCancel]),c=pt((()=>{a.current&&o(n.resting)}),[o,n.resting]);return ut((()=>({dragging:l,dropping:s,resting:c})),[l,s,c])}(t,a),g=pt((e=>{lo(i).dispatch(e)}),[]),b=ut((()=>(0,st.bindActionCreators)({publishWhileDragging:cr,updateDroppableScroll:pr,updateDroppableIsEnabled:mr,updateDroppableIsCombineEnabled:fr,collectionStarting:ur},g)),[g]),h=function(){const e=ut(Pa,[]);return(0,d.useEffect)((()=>function(){c().version.startsWith("16")||c().version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()}),[e]),e}(),v=ut((()=>Xr(h,b)),[h,b]),y=ut((()=>ga({scrollWindow:ea,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:u,...(0,st.bindActionCreators)({move:gr},g)})),[v.scrollDroppable,g,u]),E=function(e){const t=(0,d.useRef)({}),n=(0,d.useRef)(null),r=(0,d.useRef)(null),a=(0,d.useRef)(!1),o=pt((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),i=pt((function(t){const n=function(e,t){const n=`[${ha.contextId}="${e}"]`,r=Da(document,n);if(!r.length)return null;const a=r.find((e=>e.getAttribute(ha.draggableId)===t));return a&&Ta(a)?a:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=pt((function(e,t){n.current===e&&(n.current=t)}),[]),s=pt((function(){r.current||a.current&&(r.current=requestAnimationFrame((()=>{r.current=null;const e=n.current;e&&i(e)})))}),[i]),c=pt((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(ha.draggableId)===e&&(n.current=e)}),[]);return Oa((()=>(a.current=!0,function(){a.current=!1;const e=r.current;e&&cancelAnimationFrame(e)})),[]),ut((()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:s,tryShiftRecord:l})),[o,c,s,l])}(t),I=ut((()=>Kr({announce:p,autoScroller:y,dimensionMarshal:v,focusMarshal:E,getResponders:s,styleMarshal:f})),[p,y,v,E,s,f]);i.current=I;const S=pt((()=>{const e=lo(i);"IDLE"!==e.getState().phase&&e.dispatch(Er())}),[]),O=pt((()=>{const e=lo(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(ut((()=>({isDragging:O,tryAbort:S})),[O,S]));const C=pt((e=>Zr(lo(i).getState(),e)),[]),w=pt((()=>Kn(lo(i).getState())),[]),D=ut((()=>({marshal:v,focus:E,contextId:t,canLift:C,isMovementAllowed:w,dragHandleUsageInstructionsId:m,registry:h})),[t,v,m,E,C,w,h]);return ao({contextId:t,store:I,registry:h,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,d.useEffect)((()=>S),[S]),c().createElement(Fa.Provider,{value:D},c().createElement(dt.Provider,{context:Aa,store:I},e.children))}let co=0;var uo="useId"in c()?function(){return c().useId()}:function(){return ut((()=>""+co++),[])};function po(e){const t=uo(),n=e.dragHandleUsageInstructions||_t.dragHandleUsageInstructions;return c().createElement(Bt,null,(r=>c().createElement(so,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const mo=5e3,fo=4500,go=(e,t)=>t?Pr.drop(t.duration):e?Pr.snap:Pr.fluid,bo=(e,t)=>{if(e)return t?Cr:wr};var ho=c().createContext(null);function vo(e){const t=(0,d.useContext)(e);return t||Lt(!1),t}function yo(e){e.preventDefault()}var Eo=(e,t)=>e===t,Io=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function So(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Oo={mapped:{type:"SECONDARY",offset:Vt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:So(null)}},Co={dropAnimationFinished:()=>({type:"DROP_ANIMATION_FINISHED",payload:null})},wo=(0,dt.connect)((()=>{const e=function(){const e=wt(((e,t)=>({x:e,y:t}))),t=wt(((e,t,n=null,r=null,a=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}))),n=wt(((e,n,r,a,o=null,i=null,l=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,a,o,i,null)}})));return(r,a)=>{if(Ua(r)){if(r.critical.draggable.id!==a.draggableId)return null;const t=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],l=Hn(r.impact),s=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,d=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,i,a.isClone,l,s,d)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==a.draggableId)return null;const n=a.isClone,o=r.dimensions.draggables[a.draggableId],i=e.result,l=i.mode,s=Io(i),d=(e=>e.combine?e.combine.draggableId:null)(i),c={duration:r.dropDuration,curve:Or,moveTo:r.newHomeClientOffset,opacity:d?Cr:null,scale:d?Dr:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:c,draggingOver:s,combineWith:d,mode:l,forceShouldAnimate:null,snapshot:t(l,n,s,d,c)}}}return null}}(),t=function(){const e=wt(((e,t)=>({x:e,y:t}))),t=wt(So),n=wt(((e,n=null,r)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}))),r=e=>e?n(Vt,e,!0):null,a=(t,a,o,i)=>{const l=o.displaced.visible[t],s=Boolean(i.inVirtualList&&i.effected[t]),d=dn(o),c=d&&d.draggableId===t?a:null;if(!l){if(!s)return r(c);if(o.displaced.invisible[t])return null;const a=qt(i.displacedBy.point),l=e(a.x,a.y);return n(l,c,!0)}if(s)return r(c);const u=o.displacedBy.point,p=e(u.x,u.y);return n(p,c,l.shouldAnimate)};return(e,t)=>{if(Ua(e))return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||Oo}),Co,null,{context:Aa,areStatePropsEqual:Eo})((e=>{const t=(0,d.useRef)(null),n=pt(((e=null)=>{t.current=e}),[]),r=pt((()=>t.current),[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:i}=vo(Fa),{type:l,droppableId:s}=vo(ho),u=ut((()=>({id:e.draggableId,index:e.index,type:l,droppableId:s})),[e.draggableId,e.index,l,s]),{children:p,draggableId:m,isEnabled:f,shouldRespectForcePress:g,canDragInteractiveElements:b,isClone:h,mapped:v,dropAnimationFinished:y}=e;h||function(e){const t=ka("draggable"),{descriptor:n,registry:r,getDraggableRef:a,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}=e,s=ut((()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l})),[o,l,i]),c=pt((e=>{const t=a();return t||Lt(!1),function(e,t,n=Vt){const r=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=It(a,r),i=Et(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(n,t,e)}),[n,a]),u=ut((()=>({uniqueId:t,descriptor:n,options:s,getDimension:c})),[n,c,s,t]),p=(0,d.useRef)(u),m=(0,d.useRef)(!0);Oa((()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current))),[r.draggable]),Oa((()=>{if(m.current)return void(m.current=!1);const e=p.current;p.current=u,r.draggable.update(u,e)}),[u,r.draggable])}(ut((()=>({descriptor:u,registry:i,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:f})),[u,i,r,b,g,f]));const E=ut((()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:yo}:null),[a,o,m,f]),I=pt((e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(c().version.startsWith("16")||c().version.startsWith("17")?y():(0,it.flushSync)(y))}),[y,v]),S=ut((()=>{const e=function(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:a}=e,o=Boolean(r),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),l=Boolean(a),s=l?Nr(n,o):Rr(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:go(i,a),transform:s,opacity:bo(o,l),zIndex:l?fo:mo,pointerEvents:"none"}}(e):{transform:Rr((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}(v),t="DRAGGING"===v.type&&v.dropping?I:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:E}}),[a,E,m,v,I,n]),O=ut((()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),[u.droppableId,u.id,u.index,u.type]);return c().createElement(c().Fragment,null,p(S,v.snapshot,O))}));var Do=wo;function xo(e){return vo(ho).isUsingCloneFor!==e.draggableId||e.isClone?c().createElement(Do,e):null}function To(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return c().createElement(xo,xt({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Po=e=>t=>e===t,Ao=Po("scroll"),Ro=Po("auto"),No=(Po("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),Mo=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return No(n,Ao)||No(n,Ro)})(e)?e:Mo(e.parentElement);var Lo=Mo,Bo=e=>({x:e.scrollLeft,y:e.scrollTop});const ko=e=>!!e&&("fixed"===window.getComputedStyle(e).position||ko(e.parentElement));const Fo={passive:!1},jo={passive:!0};var Uo=e=>e.shouldPublishImmediately?Fo:jo;const Go=e=>e&&e.env.closestScrollable||null;function _o(e){const t=(0,d.useRef)(null),n=vo(Fa),r=ka("droppable"),{registry:a,marshal:o}=n,i=ja(e),l=ut((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),s=(0,d.useRef)(l),c=ut((()=>wt(((e,n)=>{t.current||Lt(!1);const r={x:e,y:n};o.updateDroppableScroll(l.id,r)}))),[l.id,o]),u=pt((()=>{const e=t.current;return e&&e.env.closestScrollable?Bo(e.env.closestScrollable):Vt}),[]),p=pt((()=>{const e=u();c(e.x,e.y)}),[u,c]),m=ut((()=>Dt(p)),[p]),f=pt((()=>{const e=t.current,n=Go(e);e&&n||Lt(!1),e.scrollOptions.shouldPublishImmediately?p():m()}),[m,p]),g=pt(((e,r)=>{t.current&&Lt(!1);const a=i.current,o=a.getDroppableRef();o||Lt(!1);const s=(e=>({closestScrollable:Lo(e),isFixedOnPage:ko(e)}))(o),d={ref:o,descriptor:l,env:s,scrollOptions:r};t.current=d;const c=(({ref:e,descriptor:t,env:n,windowScroll:r,direction:a,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:l})=>{const s=n.closestScrollable,d=((e,t)=>{const n=St(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=a+t.scrollWidth,l=ft({top:r,right:i,bottom:o,left:a},n.border);return ht({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})})(e,s),c=Et(d,r),u=(()=>{if(!s)return null;const e=St(s),t={scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth};return{client:e,page:Et(e,r),scroll:Bo(s),scrollSize:t,shouldClipSubject:l}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:a,client:o,page:i,closest:l})=>{const s=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=Qr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Vt,displacement:Vt}}}})(),d="vertical"===a?vn:yn;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:o,page:i,frame:s,subject:en({page:i,withPlaceholder:null,axis:d,frame:s})}})({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:c,closest:u});return p})({ref:o,descriptor:l,env:s,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),u=s.closestScrollable;return u&&(u.setAttribute(Ea.contextId,n.contextId),u.addEventListener("scroll",f,Uo(d.scrollOptions))),c}),[n.contextId,l,f,i]),b=pt((()=>{const e=t.current,n=Go(e);return e&&n||Lt(!1),Bo(n)}),[]),h=pt((()=>{const e=t.current;e||Lt(!1);const n=Go(e);t.current=null,n&&(m.cancel(),n.removeAttribute(Ea.contextId),n.removeEventListener("scroll",f,Uo(e.scrollOptions)))}),[f,m]),v=pt((e=>{const n=t.current;n||Lt(!1);const r=Go(n);r||Lt(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=ut((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:b,dragStopped:h,scroll:v})),[h,g,b,v]),E=ut((()=>({uniqueId:r,descriptor:l,callbacks:y})),[y,l,r]);Oa((()=>(s.current=E.descriptor,a.droppable.register(E),()=>{t.current&&h(),a.droppable.unregister(E)})),[y,l,h,E,o,a.droppable]),Oa((()=>{t.current&&o.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),Oa((()=>{t.current&&o.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}function Vo(){}const Wo={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var $o=c().memo((e=>{const t=(0,d.useRef)(null),n=pt((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:r,onTransitionEnd:a,onClose:o,contextId:i}=e,[l,s]=(0,d.useState)("open"===e.animate);(0,d.useEffect)((()=>l?"open"!==r?(n(),s(!1),Vo):t.current?Vo:(t.current=setTimeout((()=>{t.current=null,s(!1)})),n):Vo),[r,l,n]);const u=pt((e=>{"height"===e.propertyName&&(a(),"close"===r&&o())}),[r,o,a]),p=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?Wo:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Pr.placeholder:null}})({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return c().createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})}));class Ho extends c().PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const qo={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Lt(!1),document.body}},Ko=e=>{let t,n={...e};for(t in qo)void 0===e[t]&&(n={...n,[t]:qo[t]});return n},Qo=(e,t)=>e===t.droppable.type,zo=(e,t)=>t.draggables[e.draggable.id];var Yo=(0,dt.connect)((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=wt((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=wt(((r,a,o,i,l,s)=>{const d=l.descriptor.id;if(l.descriptor.droppableId===r){const e=s?{render:s,dragging:n(l.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!a)return t;if(!i)return e;const c={isDraggingOver:o,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:c,useClone:null}}));return(n,a)=>{const o=Ko(a),i=o.droppableId,l=o.type,s=!o.isDropDisabled,d=o.renderClone;if(Ua(n)){const e=n.critical;if(!Qo(l,e))return t;const a=zo(e,n.dimensions),o=Hn(n.impact)===i;return r(i,s,o,o,a,d)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!Qo(l,e.critical))return t;const a=zo(e.critical,n.dimensions);return r(i,s,Io(e.result)===i,Hn(e.impact)===i,a,d)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!Qo(l,r.critical))return t;const a=Hn(r.impact)===i,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),s=r.critical.droppable.id===i;return a?o?e:t:s?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...Ko(n),...e,...t})),{context:Aa,areStatePropsEqual:Eo})((e=>{const t=(0,d.useContext)(Fa);t||Lt(!1);const{contextId:n,isMovementAllowed:r}=t,a=(0,d.useRef)(null),o=(0,d.useRef)(null),{children:i,droppableId:l,type:s,mode:u,direction:p,ignoreContainerClipping:m,isDropDisabled:f,isCombineEnabled:g,snapshot:b,useClone:h,updateViewportMaxScroll:v,getContainerForClone:y}=e,E=pt((()=>a.current),[]),I=pt(((e=null)=>{a.current=e}),[]),S=(pt((()=>o.current),[]),pt(((e=null)=>{o.current=e}),[])),O=pt((()=>{r()&&v({maxScroll:Yr()})}),[r,v]);_o({droppableId:l,type:s,mode:u,direction:p,isDropDisabled:f,isCombineEnabled:g,ignoreContainerClipping:m,getDroppableRef:E});const C=ut((()=>c().createElement(Ho,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(({onClose:e,data:t,animate:r})=>c().createElement($o,{placeholder:t,onClose:e,innerRef:S,animate:r,contextId:n,onTransitionEnd:O})))),[n,O,e.placeholder,e.shouldAnimatePlaceholder,S]),w=ut((()=>({innerRef:I,placeholder:C,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}})),[n,l,C,I]),D=h?h.dragging.draggableId:null,x=ut((()=>({droppableId:l,type:s,isUsingCloneFor:D})),[l,D,s]);return c().createElement(ho.Provider,{value:x},i(w,b),function(){if(!h)return null;const{dragging:e,render:t}=h,n=c().createElement(xo,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return lt().createPortal(n,y())}())})),Jo=u(344),Xo=u(644);const Zo=e=>({content:Xo.css`
      border: 1px solid ${e.colors.border.weak};
      padding: ${e.spacing(1)};
    `,item:Xo.css`
      margin-bottom: ${e.spacing(1)};
    `,dragHandle:Xo.css`
      display: flex;
      margin: ${e.spacing(0,.5)};
    `,dragIcon:Xo.css`
      cursor: grab;
      color: ${e.colors.text.disabled};
      &:hover {
        color: ${e.colors.text};
      }
    `,removeButton:Xo.css`
      margin-left: ${e.spacing(1)};
      color: ${e.colors.text.secondary};
    `});function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ei(e,t,n[t])}))}return e}function ni(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ri=({options:e=[],onChange:t,onChangeItem:n})=>{const r=(0,l.useStyles2)(Zo),[a,o]=(0,d.useState)({}),i=(0,d.useCallback)((n=>{n.destination&&t(Le(e,n.source.index,n.destination.index))}),[e,t]),s=(0,d.useCallback)((e=>{o((t=>ni(ti({},t),{[e]:!t[e]})))}),[]);return c().createElement(c().Fragment,null,c().createElement(l.Label,null,"Options"),c().createElement("div",{className:r.content},c().createElement(po,{onDragEnd:i},c().createElement(Yo,{droppableId:"options"},(o=>c().createElement("div",ni(ti({},o.droppableProps),{ref:o.innerRef}),e.map(((o,i)=>{const d=!a[o.id];return c().createElement(To,{key:o.id,draggableId:o.id,index:i},((a,i)=>{return c().createElement("div",ni(ti({},a.draggableProps),{ref:a.innerRef,style:(i.isDragging,u=a.draggableProps.style,ti({},u)),className:r.item}),c().createElement(Jo.U,{fill:"solid",headerTestId:D.formElementsEditor.optionLabel(o.id),contentTestId:D.formElementsEditor.optionContent(o.id),isOpen:d,onToggle:()=>s(o.id),title:c().createElement(c().Fragment,null,o.label," [",o.id,"]"),actions:c().createElement(c().Fragment,null,c().createElement(l.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:r.removeButton,"data-testid":D.formElementsEditor.buttonRemoveOption,onClick:()=>t(null==e?void 0:e.filter((e=>e.id!==o.id))),"aria-label":"Remove"}),c().createElement("div",ti({className:r.dragHandle},a.dragHandleProps),c().createElement(l.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:r.dragIcon})))},c().createElement(c().Fragment,null,c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Type",labelWidth:6},c().createElement(l.Select,{options:A,onChange:e=>{const t=(null==e?void 0:e.value)===x.NUMBER?Number(o.value)||0:String(o.value);n(ni(ti({},o),{value:t,id:t.toString(),type:null==e?void 0:e.value}),o)},width:12,value:o.type,"aria-label":D.formElementsEditor.fieldOptionType})),c().createElement(l.InlineField,{label:"Value",labelWidth:6,grow:!0},c().createElement(l.Input,{placeholder:o.type===x.NUMBER?"number":"string",type:o.type===x.NUMBER?"number":void 0,onChange:e=>{n(ni(ti({},o),{value:o.type===x.NUMBER?Number(e.target.value):e.target.value}),o,!0)},onBlur:()=>{var e;const t=(null===(e=o.value)||void 0===e?void 0:e.toString())||z.id;n(ni(ti({},o),{id:t}),o)},value:o.value,"data-testid":D.formElementsEditor.fieldOptionValue}))),c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Icon",labelWidth:6},c().createElement(l.Select,{onChange:e=>{n(ni(ti({},o),{icon:null==e?void 0:e.value}))},options:M,isClearable:!0,value:o.icon,width:12,"aria-label":D.formElementsEditor.fieldOptionIcon})),c().createElement(l.InlineField,{label:"Label",labelWidth:6,grow:!0,shrink:!0},c().createElement(l.Input,{placeholder:"label",onChange:e=>{n(ni(ti({},o),{label:e.target.value}))},value:o.label,"data-testid":D.formElementsEditor.fieldOptionLabel}))))));var u}))})),o.placeholder)))),c().createElement(l.Button,{variant:"secondary",onClick:()=>{const n=ti({},z);t(e.concat(n))},icon:"plus","data-testid":D.formElementsEditor.buttonAddOption,size:"sm",disabled:e.some((e=>e.id===z.id))},"Add Option")))};function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ai(e,t,n[t])}))}return e}function ii(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const li=({value:e,onChange:t,data:n})=>{const r=(0,d.useMemo)((()=>{const t=null==e?void 0:e.source,r=n.reduce(((e,t)=>e.concat(t.fields.map((e=>({value:`${t.refId}:${e.name}`,fieldName:e.name,label:`${t.refId}:${e.name}`,source:t.refId}))))),[]);if(t){const e=n.find((e=>e.refId===t));return{valueOptions:r,labelOptions:null==e?void 0:e.fields.map((({name:t})=>({label:`${e.refId}:${t}`,source:e.refId,value:t,fieldName:t})))}}return{valueOptions:r,labelOptions:[]}}),[n,null==e?void 0:e.source]);return c().createElement(c().Fragment,null,c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Value Field",grow:!0},c().createElement(l.Select,{options:r.valueOptions,value:`${null==e?void 0:e.source}:${null==e?void 0:e.value}`,onChange:n=>t(ii(oi({},e),{source:n.source,value:n.fieldName,label:(null==e?void 0:e.source)!==n.source?null:(null==e?void 0:e.label)||null})),"aria-label":D.formElementsEditor.fieldQueryOptionsValue}))),(null==e?void 0:e.value)&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Label Field",grow:!0},c().createElement(l.Select,{options:r.labelOptions,value:e.label,onChange:n=>t(ii(oi({},e),{label:n.fieldName})),"aria-label":D.formElementsEditor.fieldQueryOptionsLabel}))))},si=e=>({optionsContainer:Xo.css`
      margin: ${e.spacing(1,0)};
    `});function di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){di(e,t,n[t])}))}return e}function ui(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const pi=({element:e,onChange:t,onChangeOption:n,layoutSectionOptions:a,initialMethod:o,isQueryFieldsEnabled:i,queryFields:s,data:d})=>{var u;const p=(0,l.useStyles2)(si);return c().createElement(c().Fragment,null,c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===e.id},c().createElement(l.Input,{placeholder:"Id",onChange:n=>{t(ui(ci({},e),{id:n.target.value}),!0)},value:e.id,"data-testid":D.formElementsEditor.fieldId})),e.type===x.STRING&&c().createElement(l.InlineField,{"data-testid":D.formElementsEditor.fieldVisibility},c().createElement(l.RadioButtonGroup,{options:R,value:!!e.hidden,onChange:n=>{t(ui(ci({},e),{hidden:n}))}}))),c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Type",grow:!0,labelWidth:8},c().createElement(l.Select,{options:T,onChange:n=>{t(Be(e,null==n?void 0:n.value),!0)},value:T.find((t=>t.value===e.type)),"aria-label":D.formElementsEditor.fieldType})),c().createElement(l.InlineField,{label:"Width",labelWidth:12,tooltip:"Element will grow to max length if not specified. Some elements does not support adjusting width."},c().createElement(l.Input,{placeholder:"auto",onChange:n=>{t(ui(ci({},e),{width:Fe(n.target.value)}))},value:je(e.width),min:0,type:"number","data-testid":D.formElementsEditor.fieldWidth}))),c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===e.title},c().createElement(l.Input,{placeholder:"Label",onChange:n=>{t(ui(ci({},e),{title:n.target.value}))},value:e.title,"data-testid":D.formElementsEditor.fieldLabel})),c().createElement(l.InlineField,{label:"Label Width",labelWidth:12},c().createElement(l.Input,{placeholder:"auto",onChange:n=>{t(ui(ci({},e),{labelWidth:Fe(n.target.value)}))},value:je(e.labelWidth),type:"number","data-testid":D.formElementsEditor.fieldLabelWidth}))),c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Tooltip",grow:!0,labelWidth:8},c().createElement(l.Input,{placeholder:"Tooltip",onChange:n=>{t(ui(ci({},e),{tooltip:n.target.value}))},value:e.tooltip,"data-testid":D.formElementsEditor.fieldTooltip})),c().createElement(l.InlineField,{label:"Unit",labelWidth:12},c().createElement(l.Input,{placeholder:"Unit",onChange:n=>{t(ui(ci({},e),{unit:n.target.value}))},value:e.unit,"data-testid":D.formElementsEditor.fieldUnit}))),a.length>0&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Section",grow:!0,labelWidth:8},c().createElement(l.Select,{options:a,onChange:n=>{t(ui(ci({},e),{section:null==n?void 0:n.value}))},value:a.find((t=>t.value===e.section)),"aria-label":D.formElementsEditor.fieldSection}))),e.type===x.SLIDER&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Min",labelWidth:8},c().createElement(l.Input,{placeholder:"Min",onChange:n=>{t(ui(ci({},e),{min:Number(n.target.value)}))},type:"number",width:10,value:e.min,"data-testid":D.formElementsEditor.fieldSliderMin})),c().createElement(l.InlineField,{label:"Max",labelWidth:8},c().createElement(l.Input,{placeholder:"Max",onChange:n=>{t(ui(ci({},e),{max:Number(n.target.value)}))},type:"number",width:10,value:e.max,"data-testid":D.formElementsEditor.fieldSliderMax})),c().createElement(l.InlineField,{label:"Step",labelWidth:8},c().createElement(l.Input,{placeholder:"Step",onChange:n=>{t(ui(ci({},e),{step:Number(n.target.value)}))},type:"number",width:10,value:e.step,"data-testid":D.formElementsEditor.fieldSliderStep}))),e.type===x.NUMBER&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Min",labelWidth:8},c().createElement(l.Input,{placeholder:"Min",onChange:n=>{t(ui(ci({},e),{min:n.target.value?Number(n.target.value):void 0}))},type:"number",width:10,value:je(e.min),"data-testid":D.formElementsEditor.fieldNumberMin})),c().createElement(l.InlineField,{label:"Max",labelWidth:8},c().createElement(l.Input,{placeholder:"Max",onChange:n=>{t(ui(ci({},e),{max:n.target.value?Number(n.target.value):void 0}))},type:"number",width:10,value:je(e.max),"data-testid":D.formElementsEditor.fieldNumberMax}))),e.type===x.DATETIME&&c().createElement(c().Fragment,null,c().createElement(ot,{label:"Min",onChange:n=>t(ui(ci({},e),{min:n})),value:e.min,"data-testid":D.formElementsEditor.fieldMinDate}),c().createElement(ot,{label:"Max",onChange:n=>t(ui(ci({},e),{max:n})),value:e.max,"data-testid":D.formElementsEditor.fieldMaxDate})),(e.type===x.TEXTAREA||e.type===x.DISABLED_TEXTAREA)&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Rows",labelWidth:8},c().createElement(l.Input,{placeholder:"Rows",onChange:n=>{t(ui(ci({},e),{rows:Number(n.target.value)}))},type:"number",width:10,value:e.rows,min:2,"data-testid":D.formElementsEditor.fieldTextareaRows}))),e.type===x.CODE&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Language",grow:!0,labelWidth:10},c().createElement(l.Select,{options:y,onChange:n=>{t(ui(ci({},e),{language:null==n?void 0:n.value}))},value:y.find((t=>t.value===e.language)),"aria-label":D.formElementsEditor.fieldCodeLanguage})),c().createElement(l.InlineField,{label:"Height",labelWidth:12,tooltip:"Code Editor height in px"},c().createElement(l.Input,{placeholder:"Height",onChange:n=>{t(ui(ci({},e),{height:Number(n.target.value)}))},type:"number",value:e.height,min:0,"data-testid":D.formElementsEditor.fieldCodeHeight}))),o===ae.DATASOURCE&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{grow:!0,label:"Field Name",labelWidth:14,tooltip:"Specify a field name from the Data Source response"},c().createElement(l.Input,{value:e.fieldName||"",onChange:n=>{t(ui(ci({},e),{fieldName:n.target.value}))},"data-testid":D.formElementsEditor.fieldNamePicker}))),i&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{grow:!0,label:"Query Field",labelWidth:14,tooltip:"Specify a field name from the Query"},c().createElement(l.Select,{value:null===(u=e.queryField)||void 0===u?void 0:u.value,options:s,onChange:n=>{t(ui(ci({},e),{queryField:n}))},"aria-label":D.formElementsEditor.fieldFromQueryPicker,isClearable:!0}))),e.type===x.FILE&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{grow:!0,label:"Accept",labelWidth:14,tooltip:"Specify comma-separated file extensions or keep blank to allow any file"},c().createElement(l.Input,{value:e.accept||"",onChange:n=>{t(ui(ci({},e),{accept:n.target.value}))},"data-testid":D.formElementsEditor.fieldAccept}))),He(e,x.LINK)&&c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{grow:!0,label:"Link Text",labelWidth:14},c().createElement(l.Input,{value:e.linkText,onChange:n=>{t(ui(ci({},e),{linkText:n.currentTarget.value}))},placeholder:"Link address will be used","data-testid":D.formElementsEditor.fieldLinkText})),c().createElement(l.InlineField,{grow:!0,label:"Open in",labelWidth:14},c().createElement(l.RadioButtonGroup,{value:e.target,onChange:n=>{t(ui(ci({},e),{target:n}))},options:k}))),(e.type===x.RADIO||e.type===x.SELECT||e.type===x.MULTISELECT||e.type===x.DISABLED)&&c().createElement(c().Fragment,null,c().createElement(l.InlineFieldRow,null,c().createElement(l.InlineField,{label:"Options Source",labelWidth:14},c().createElement(l.RadioButtonGroup,{options:B,value:e.optionsSource||L.CUSTOM,onChange:n=>{t(ui(ci({},e),{optionsSource:n}))}}))),e.optionsSource===L.QUERY&&c().createElement(li,{value:e.queryOptions,onChange:n=>{t(ui(ci({},e),{queryOptions:n}))},data:d}),e.optionsSource===L.CODE&&c().createElement(l.Field,{label:"Get Options Code",description:"Must return array with {label,value} objects"},c().createElement(ge,{value:e.getOptions||"",language:r.JAVASCRIPT,onBlur:n=>{t(ui(ci({},e),{getOptions:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":D.formElementsEditor.fieldGetOptions,getSuggestions:()=>S.elementGetOptions})),(e.optionsSource===L.CUSTOM||!e.optionsSource)&&c().createElement("div",{className:p.optionsContainer,"data-testid":D.formElementsEditor.options},c().createElement(ri,{options:e.options,onChange:n=>t(ui(ci({},e),{options:n})),onChangeItem:(t,r,a)=>n(e,t,r,a)}))),c().createElement(l.Field,{label:"Show if returned value is true"},c().createElement(ge,{value:e.showIf||"",language:r.JAVASCRIPT,onBlur:n=>{t(ui(ci({},e),{showIf:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":D.formElementsEditor.fieldShowIf,getSuggestions:()=>S.elementShowIf})),e.type!==x.DISABLED_TEXTAREA&&e.type!==x.DISABLED&&e.type!==x.LINK&&c().createElement(l.Field,{label:"Disable if returned value is true"},c().createElement(ge,{value:e.disableIf||"",language:r.JAVASCRIPT,onBlur:n=>{t(ui(ci({},e),{disableIf:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":D.formElementsEditor.fieldDisableIf,getSuggestions:()=>S.elementDisableIf})))};function mi(e){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mi(e)}function fi(e,t,n){return r=function(e,t){if("object"!=mi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==mi(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var r}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vi(e,t){if(e){if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}function yi(e){return function(e){if(Array.isArray(e))return hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],s=!0,d=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){d=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw a}}return l}}(e,t)||vi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ii=u(42),Si=u.n(Ii);function Oi(e){var t=d.useRef();t.current=e;var n=d.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var Ci="undefined"!=typeof window&&window.document&&window.document.createElement?d.useLayoutEffect:d.useEffect,wi=function(e,t){!function(e,t){var n=d.useRef(!0);Ci((function(){return e(n.current)}),t),Ci((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(t){if(!t)return e()}),t)};function Di(e){var t=d.useRef(!1),n=Ei(d.useState(e),2),r=n[0],a=n[1];return d.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||a(e)}]}function xi(e){return void 0!==e}var Ti={},Pi=[];function Ai(e,t){}function Ri(e,t){}function Ni(e,t,n){t||Ti[n]||(e(!1,n),Ti[n]=!0)}function Mi(e,t){Ni(Ai,e,t)}Mi.preMessage=function(e){Pi.push(e)},Mi.resetWarned=function(){Ti={}},Mi.noteOnce=function(e,t){Ni(Ri,e,t)};const Li=Mi,Bi=d.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function ki(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Fi={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Fi.F1&&t<=Fi.F12)return!1;switch(t){case Fi.ALT:case Fi.CAPS_LOCK:case Fi.CONTEXT_MENU:case Fi.CTRL:case Fi.DOWN:case Fi.END:case Fi.ESC:case Fi.HOME:case Fi.INSERT:case Fi.LEFT:case Fi.MAC_FF_META:case Fi.META:case Fi.NUMLOCK:case Fi.NUM_CENTER:case Fi.PAGE_DOWN:case Fi.PAGE_UP:case Fi.PAUSE:case Fi.PRINT_SCREEN:case Fi.RIGHT:case Fi.SHIFT:case Fi.UP:case Fi.WIN_KEY:case Fi.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Fi.ZERO&&e<=Fi.NINE)return!0;if(e>=Fi.NUM_ZERO&&e<=Fi.NUM_MULTIPLY)return!0;if(e>=Fi.A&&e<=Fi.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Fi.SPACE:case Fi.QUESTION_MARK:case Fi.NUM_PLUS:case Fi.NUM_MINUS:case Fi.NUM_PERIOD:case Fi.NUM_DIVISION:case Fi.SEMICOLON:case Fi.DASH:case Fi.EQUALS:case Fi.COMMA:case Fi.PERIOD:case Fi.SLASH:case Fi.APOSTROPHE:case Fi.SINGLE_QUOTE:case Fi.OPEN_SQUARE_BRACKET:case Fi.BACKSLASH:case Fi.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const ji=Fi;function Ui(e,t,n){return(e-t)/(n-t)}function Gi(e,t,n,r){var a=Ui(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*a,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*a,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*a,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*a,"%"),o.transform="translateX(-50%)"}return o}function _i(e,t){return Array.isArray(e)?e[t]:e}var Vi=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Wi=d.forwardRef((function(e,t){var n,r,a=e.prefixCls,o=e.value,i=e.valueIndex,l=e.onStartMove,s=e.style,c=e.render,u=e.dragging,p=e.onOffsetChange,m=ki(e,Vi),f=d.useContext(Bi),g=f.min,b=f.max,h=f.direction,v=f.disabled,y=f.keyboard,E=f.range,I=f.tabIndex,S=f.ariaLabelForHandle,O=f.ariaLabelledByForHandle,C=f.ariaValueTextFormatterForHandle,w=f.styles,D=f.classNames,x="".concat(a,"-handle"),T=function(e){v||l(e,i)},P=Gi(h,o,g,b),A=d.createElement("div",xt({ref:t,className:Si()(x,(n={},fi(n,"".concat(x,"-").concat(i+1),E),fi(n,"".concat(x,"-dragging"),u),n),D.handle),style:bi(bi(bi({},P),s),w.handle),onMouseDown:T,onTouchStart:T,onKeyDown:function(e){if(!v&&y){var t=null;switch(e.which||e.keyCode){case ji.LEFT:t="ltr"===h||"btt"===h?-1:1;break;case ji.RIGHT:t="ltr"===h||"btt"===h?1:-1;break;case ji.UP:t="ttb"!==h?1:-1;break;case ji.DOWN:t="ttb"!==h?-1:1;break;case ji.HOME:t="min";break;case ji.END:t="max";break;case ji.PAGE_UP:t=2;break;case ji.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),p(t,i))}},tabIndex:v?null:_i(I,i),role:"slider","aria-valuemin":g,"aria-valuemax":b,"aria-valuenow":o,"aria-disabled":v,"aria-label":_i(S,i),"aria-labelledby":_i(O,i),"aria-valuetext":null===(r=_i(C,i))||void 0===r?void 0:r(o),"aria-orientation":"ltr"===h||"rtl"===h?"horizontal":"vertical"},m));return c&&(A=c(A,{index:i,prefixCls:a,value:o,dragging:u})),A}));const $i=Wi;var Hi=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"];const qi=d.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,o=e.onOffsetChange,i=e.values,l=e.handleRender,s=e.draggingIndex,c=ki(e,Hi),u=d.useRef({});return d.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=u.current[e])||void 0===t||t.focus()}}})),d.createElement(d.Fragment,null,i.map((function(e,t){return d.createElement($i,xt({ref:function(e){e?u.current[t]=e:delete u.current[t]},dragging:s===t,prefixCls:n,style:_i(r,t),key:t,value:e,valueIndex:t,onStartMove:a,onOffsetChange:o,render:l},c))})))}));function Ki(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Qi(e){var t=e.prefixCls,n=e.style,r=e.children,a=e.value,o=e.onClick,i=d.useContext(Bi),l=i.min,s=i.max,c=i.direction,u=i.includedStart,p=i.includedEnd,m=i.included,f="".concat(t,"-text"),g=Gi(c,a,l,s);return d.createElement("span",{className:Si()(f,fi({},"".concat(f,"-active"),m&&u<=a&&a<=p)),style:bi(bi({},g),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){o(a)}},r)}function zi(e){var t=e.prefixCls,n=e.marks,r=e.onClick,a="".concat(t,"-mark");return n.length?d.createElement("div",{className:a},n.map((function(e){var t=e.value,n=e.style,o=e.label;return d.createElement(Qi,{key:t,prefixCls:a,style:n,value:t,onClick:r},o)}))):null}function Yi(e){var t=e.prefixCls,n=e.value,r=e.style,a=e.activeStyle,o=d.useContext(Bi),i=o.min,l=o.max,s=o.direction,c=o.included,u=o.includedStart,p=o.includedEnd,m="".concat(t,"-dot"),f=c&&u<=n&&n<=p,g=bi(bi({},Gi(s,n,i,l)),"function"==typeof r?r(n):r);return f&&(g=bi(bi({},g),"function"==typeof a?a(n):a)),d.createElement("span",{className:Si()(m,fi({},"".concat(m,"-active"),f)),style:g})}function Ji(e){var t=e.prefixCls,n=e.marks,r=e.dots,a=e.style,o=e.activeStyle,i=d.useContext(Bi),l=i.min,s=i.max,c=i.step,u=d.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==c)for(var t=l;t<=s;)e.add(t),t+=c;return Array.from(e)}),[l,s,c,r,n]);return d.createElement("div",{className:"".concat(t,"-step")},u.map((function(e){return d.createElement(Yi,{prefixCls:t,key:e,value:e,style:a,activeStyle:o})})))}function Xi(e){var t,n=e.prefixCls,r=e.style,a=e.start,o=e.end,i=e.index,l=e.onStartMove,s=e.replaceCls,c=d.useContext(Bi),u=c.direction,p=c.min,m=c.max,f=c.disabled,g=c.range,b=c.classNames,h="".concat(n,"-track"),v=Ui(a,p,m),y=Ui(o,p,m),E=function(e){!f&&l&&l(e,-1)},I={};switch(u){case"rtl":I.right="".concat(100*v,"%"),I.width="".concat(100*y-100*v,"%");break;case"btt":I.bottom="".concat(100*v,"%"),I.height="".concat(100*y-100*v,"%");break;case"ttb":I.top="".concat(100*v,"%"),I.height="".concat(100*y-100*v,"%");break;default:I.left="".concat(100*v,"%"),I.width="".concat(100*y-100*v,"%")}var S=s||Si()(h,(fi(t={},"".concat(h,"-").concat(i+1),null!==i&&g),fi(t,"".concat(n,"-track-draggable"),l),t),b.track);return d.createElement("div",{className:S,style:bi(bi({},I),r),onMouseDown:E,onTouchStart:E})}function Zi(e){var t=e.prefixCls,n=e.style,r=e.values,a=e.startPoint,o=e.onStartMove,i=d.useContext(Bi),l=i.included,s=i.range,c=i.min,u=i.styles,p=i.classNames,m=d.useMemo((function(){if(!s){if(0===r.length)return[];var e=null!=a?a:c,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],o=0;o<r.length-1;o+=1)n.push({start:r[o],end:r[o+1]});return n}),[r,s,a,c]),f=null;return(p.tracks||u.tracks)&&(f=d.createElement(Xi,{index:null,prefixCls:t,start:m[0].start,end:m[m.length-1].end,replaceCls:Si()(p.tracks,"".concat(t,"-tracks")),style:u.tracks})),l?d.createElement(d.Fragment,null,f,m.map((function(e,r){var a=e.start,i=e.end;return d.createElement(Xi,{index:r,prefixCls:t,style:bi(bi({},_i(n,r)),u.track),start:a,end:i,key:r,onStartMove:o})}))):null}var el=d.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-slider":r,o=e.className,i=e.style,l=e.classNames,s=e.styles,c=e.disabled,u=void 0!==c&&c,p=e.keyboard,m=void 0===p||p,f=e.autoFocus,g=e.onFocus,b=e.onBlur,h=e.min,v=void 0===h?0:h,y=e.max,E=void 0===y?100:y,I=e.step,S=void 0===I?1:I,O=e.value,C=e.defaultValue,w=e.range,D=e.count,x=e.onChange,T=e.onBeforeChange,P=e.onAfterChange,A=e.allowCross,R=void 0===A||A,N=e.pushable,M=void 0!==N&&N,L=e.draggableTrack,B=e.reverse,k=e.vertical,F=e.included,j=void 0===F||F,U=e.startPoint,G=e.trackStyle,_=e.handleStyle,V=e.railStyle,W=e.dotStyle,$=e.activeDotStyle,H=e.marks,q=e.dots,K=e.handleRender,Q=e.tabIndex,z=void 0===Q?0:Q,Y=e.ariaLabelForHandle,J=e.ariaLabelledByForHandle,X=e.ariaValueTextFormatterForHandle,Z=d.useRef(),ee=d.useRef(),te=d.useMemo((function(){return k?B?"ttb":"btt":B?"rtl":"ltr"}),[B,k]),ne=d.useMemo((function(){return isFinite(v)?v:0}),[v]),re=d.useMemo((function(){return isFinite(E)?E:100}),[E]),ae=d.useMemo((function(){return null!==S&&S<=0?1:S}),[S]),oe=d.useMemo((function(){return"boolean"==typeof M?!!M&&ae:M>=0&&M}),[M,ae]),ie=d.useMemo((function(){return Object.keys(H||{}).map((function(e){var t=H[e],n={value:Number(e)};return t&&"object"===mi(t)&&!d.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[H]),le=function(e,t,n,r,a,o){var i=d.useCallback((function(n){var r=isFinite(n);return r=Math.min(t,n),Math.max(e,r)}),[e,t]),l=d.useCallback((function(r){if(null!==n){var a=e+Math.round((i(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},l=Math.max(o(n),o(t),o(e)),s=Number(a.toFixed(l));return e<=s&&s<=t?s:null}return null}),[n,e,t,i]),s=d.useCallback((function(a){var o=i(a),s=r.map((function(e){return e.value}));null!==n&&s.push(l(a)),s.push(e,t);var d=s[0],c=t-e;return s.forEach((function(e){var t=Math.abs(o-e);t<=c&&(d=e,c=t)})),d}),[e,t,r,n,i,l]),c=function a(o,i,s){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof i){var c,u=o[s],p=u+i,m=[];r.forEach((function(e){m.push(e.value)})),m.push(e,t),m.push(l(u));var f=i>0?1:-1;"unit"===d?m.push(l(u+f*n)):m.push(l(p)),m=m.filter((function(e){return null!==e})).filter((function(e){return i<0?e<=u:e>=u})),"unit"===d&&(m=m.filter((function(e){return e!==u})));var g="unit"===d?u:p;c=m[0];var b=Math.abs(c-g);if(m.forEach((function(e){var t=Math.abs(e-g);t<b&&(c=e,b=t)})),void 0===c)return i<0?e:t;if("dist"===d)return c;if(Math.abs(i)>1){var h=yi(o);return h[s]=c,a(h,i-f,s,d)}return c}return"min"===i?e:"max"===i?t:void 0},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],o=c(e,t,n,r);return{value:o,changed:o!==a}},p=function(e){return null===o&&0===e||"number"==typeof o&&e<o};return[s,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(s),l=i[n],d=c(i,t,n,r);if(i[n]=d,!1===a){var m=o||0;n>0&&i[n-1]!==l&&(i[n]=Math.max(i[n],i[n-1]+m)),n<i.length-1&&i[n+1]!==l&&(i[n]=Math.min(i[n],i[n+1]-m))}else if("number"==typeof o||null===o){for(var f=n+1;f<i.length;f+=1)for(var g=!0;p(i[f]-i[f-1])&&g;){var b=u(i,1,f);i[f]=b.value,g=b.changed}for(var h=n;h>0;h-=1)for(var v=!0;p(i[h]-i[h-1])&&v;){var y=u(i,-1,h-1);i[h-1]=y.value,v=y.changed}for(var E=i.length-1;E>0;E-=1)for(var I=!0;p(i[E]-i[E-1])&&I;){var S=u(i,-1,E-1);i[E-1]=S.value,I=S.changed}for(var O=0;O<i.length-1;O+=1)for(var C=!0;p(i[O+1]-i[O])&&C;){var w=u(i,1,O+1);i[O+1]=w.value,C=w.changed}}return{value:i[n],values:i}}]}(ne,re,ae,ie,R,oe),se=Ei(le,2),de=se[0],ce=se[1],ue=function(e,t){var n=t||{},r=n.defaultValue,a=n.value,o=n.onChange,i=n.postState,l=Ei(Di((function(){return xi(a)?a:xi(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),s=l[0],d=l[1],c=void 0!==a?a:s,u=i?i(c):c,p=Oi(o),m=Ei(Di([c]),2),f=m[0],g=m[1];return wi((function(){var e=f[0];s!==e&&p(s,e)}),[f]),wi((function(){xi(a)||d(a)}),[a]),[u,Oi((function(e,t){d(e,t),g([c],t)}))]}(C,{value:O}),pe=Ei(ue,2),me=pe[0],fe=pe[1],ge=d.useMemo((function(){var e=null==me?[]:Array.isArray(me)?me:[me],t=Ei(e,1)[0],n=null===me?[]:[void 0===t?ne:t];if(w){if(n=yi(e),D||void 0===me){var r=D>=0?D+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:ne)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=de(e)})),n}),[me,w,ne,D,de]),be=d.useRef(ge);be.current=ge;var he=function(e){return w?e:e[0]},ve=function(e){var t=yi(e).sort((function(e,t){return e-t}));x&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.has(t);if(Li(!i,"Warning: There may be circular references"),i)return!1;if(t===a)return!0;if(n&&o>1)return!1;r.add(t);var l=o+1;if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(var s=0;s<t.length;s++)if(!e(t[s],a[s],l))return!1;return!0}if(t&&a&&"object"===mi(t)&&"object"===mi(a)){var d=Object.keys(t);return d.length===Object.keys(a).length&&d.every((function(n){return e(t[n],a[n],l)}))}return!1}(e,t)}(t,be.current,!0)&&x(he(t)),fe(t)},ye=function(e){if(!u){var t=0,n=re-ne;ge.forEach((function(r,a){var o=Math.abs(e-r);o<=n&&(n=o,t=a)}));var r=yi(ge);r[t]=e,w&&!ge.length&&void 0===D&&r.push(e),null==T||T(he(r)),ve(r),null==P||P(he(r))}},Ee=Ei(d.useState(null),2),Ie=Ee[0],Se=Ee[1];d.useEffect((function(){if(null!==Ie){var e=ge.indexOf(Ie);e>=0&&Z.current.focus(e)}Se(null)}),[Ie]);var Oe=d.useMemo((function(){return(!L||null!==ae)&&L}),[L,ae]),Ce=function(e,t,n,r,a,o,i,l,s){var c=Ei(d.useState(null),2),u=c[0],p=c[1],m=Ei(d.useState(-1),2),f=m[0],g=m[1],b=Ei(d.useState(n),2),h=b[0],v=b[1],y=Ei(d.useState(n),2),E=y[0],I=y[1],S=d.useRef(null),O=d.useRef(null);d.useEffect((function(){-1===f&&v(n)}),[n,f]),d.useEffect((function(){return function(){document.removeEventListener("mousemove",S.current),document.removeEventListener("mouseup",O.current),document.removeEventListener("touchmove",S.current),document.removeEventListener("touchend",O.current)}}),[]);var C=function(e,t){h.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&p(t),v(e),i(e))},w=function(e,t){if(-1===e){var n=E[0],i=E[E.length-1],l=r-n,d=a-i,c=t*(a-r);c=Math.max(c,l),c=Math.min(c,d);var u=o(n+c);c=u-n;var p=E.map((function(e){return e+c}));C(p)}else{var m=(a-r)*t,f=yi(h);f[e]=E[e];var g=s(f,m,e,"dist");C(g.values,g.value)}},D=d.useRef(w);D.current=w;var x=d.useMemo((function(){var e=yi(n).sort((function(e,t){return e-t})),t=yi(h).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?h:n}),[n,h]);return[f,u,x,function(r,a){r.stopPropagation();var o=n[a];g(a),p(o),I(n);var i=Ki(r),l=i.pageX,s=i.pageY,d=function(n){n.preventDefault();var r,o=Ki(n),i=o.pageX,d=o.pageY,c=i-l,u=d-s,p=e.current.getBoundingClientRect(),m=p.width,f=p.height;switch(t){case"btt":r=-u/f;break;case"ttb":r=u/f;break;case"rtl":r=-c/m;break;default:r=c/m}D.current(a,r)},c=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",d),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",d),S.current=null,O.current=null,g(-1),null==P||P(he(be.current))};document.addEventListener("mouseup",c),document.addEventListener("mousemove",d),document.addEventListener("touchend",c),document.addEventListener("touchmove",d),S.current=d,O.current=c}]}(ee,te,ge,ne,re,de,ve,0,ce),we=Ei(Ce,4),De=we[0],xe=we[1],Te=we[2],Pe=we[3],Ae=function(e,t){Pe(e,t),null==T||T(he(be.current))},Re=-1!==De;d.useEffect((function(){if(!Re){var e=ge.lastIndexOf(xe);Z.current.focus(e)}}),[Re]);var Ne=d.useMemo((function(){return yi(Te).sort((function(e,t){return e-t}))}),[Te]),Me=Ei(d.useMemo((function(){return w?[Ne[0],Ne[Ne.length-1]]:[ne,Ne[0]]}),[Ne,w,ne]),2),Le=Me[0],Be=Me[1];d.useImperativeHandle(t,(function(){return{focus:function(){Z.current.focus(0)},blur:function(){var e=document.activeElement;ee.current.contains(e)&&(null==e||e.blur())}}})),d.useEffect((function(){f&&Z.current.focus(0)}),[]);var ke=d.useMemo((function(){return{min:ne,max:re,direction:te,disabled:u,keyboard:m,step:ae,included:j,includedStart:Le,includedEnd:Be,range:w,tabIndex:z,ariaLabelForHandle:Y,ariaLabelledByForHandle:J,ariaValueTextFormatterForHandle:X,styles:s||{},classNames:l||{}}}),[ne,re,te,u,m,ae,j,Le,Be,w,z,Y,J,X,s,l]);return d.createElement(Bi.Provider,{value:ke},d.createElement("div",{ref:ee,className:Si()(a,o,(n={},fi(n,"".concat(a,"-disabled"),u),fi(n,"".concat(a,"-vertical"),k),fi(n,"".concat(a,"-horizontal"),!k),fi(n,"".concat(a,"-with-marks"),ie.length),n)),style:i,onMouseDown:function(e){e.preventDefault();var t,n=ee.current.getBoundingClientRect(),r=n.width,a=n.height,o=n.left,i=n.top,l=n.bottom,s=n.right,d=e.clientX,c=e.clientY;switch(te){case"btt":t=(l-c)/a;break;case"ttb":t=(c-i)/a;break;case"rtl":t=(s-d)/r;break;default:t=(d-o)/r}ye(de(ne+t*(re-ne)))}},d.createElement("div",{className:Si()("".concat(a,"-rail"),null==l?void 0:l.rail),style:bi(bi({},V),null==s?void 0:s.rail)}),d.createElement(Zi,{prefixCls:a,style:G,values:Ne,startPoint:U,onStartMove:Oe?Ae:null}),d.createElement(Ji,{prefixCls:a,marks:ie,dots:q,style:W,activeStyle:$}),d.createElement(qi,{ref:Z,prefixCls:a,style:_,values:Te,draggingIndex:De,onStartMove:Ae,onOffsetChange:function(e,t){if(!u){var n=ce(ge,e,t);null==T||T(he(ge)),ve(n.values),null==P||P(he(n.values)),Se(n.value)}},onFocus:g,onBlur:b,handleRender:K}),d.createElement(zi,{prefixCls:a,marks:ie,onClick:ye})))}));const tl=el,nl=e=>({slider:Xo.css`
      .rc-slider {
        margin: 10px 0 0 0;
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${e.colors.primary.main};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
      }
      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle:focus,
      .rc-slider-handle-click-focused:focus,
      .rc-slider-dot-active {
        ${`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`};
      }
      .rc-slider-track {
        background-color: ${e.colors.primary.main};
      }
      .rc-slider-rail {
        background-color: ${e.colors.border.strong};
        cursor: pointer;
      }
    `,sliderInput:Xo.css`
      margin-left: 15px;
    `,hidden:Xo.css`
      display: none;
    `,link:Xo.css`
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
    `});function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rl(e,t,n[t])}))}return e}function ol(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const il=({element:e,onChange:t,highlightClass:n})=>{var a,s,d,u,p;const m=(0,l.useTheme2)(),f=(0,l.useStyles2)(nl);return c().createElement(l.InlineFieldRow,{"data-testid":D.formElements.element(e.id,e.type)},e.type===x.NUMBER&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},c().createElement(Jo.Y,{value:je(e.value),onChange:n=>{t(ol(al({},e),{value:n}))},type:"number",className:n(e),width:Ue(e.width),min:e.min,max:e.max,"data-testid":D.formElements.fieldNumber})),e.type===x.STRING&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,className:(0,Xo.cx)({[f.hidden]:e.hidden}),disabled:e.disabled},c().createElement(l.Input,{value:e.value||"",onChange:n=>{t(ol(al({},e),{value:n.target.value}))},className:n(e),width:Ue(e.width),type:"text","data-testid":D.formElements.fieldString})),He(e,x.PASSWORD)&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},c().createElement(l.Input,{value:e.value||"",onChange:n=>{t(ol(al({},e),{value:n.target.value}))},className:n(e),width:Ue(e.width),type:"password","data-testid":D.formElements.fieldPassword})),He(e,x.DISABLED)&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,disabled:!0,transparent:!e.title},c().createElement(l.Input,{value:(null===(a=e.options)||void 0===a?void 0:a.length)?null===(u=e.options)||void 0===u||null===(d=u.find((t=>t.value===e.value)))||void 0===d?void 0:d.label:(null===(s=e.value)||void 0===s?void 0:s.toString())||"",type:"text",width:Ue(e.width),"data-testid":D.formElements.fieldDisabled})),He(e,x.TEXTAREA)&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},c().createElement(l.TextArea,{value:e.value,onChange:n=>{t(ol(al({},e),{value:n.target.value}))},className:n(e),cols:Ue(e.width),rows:e.rows,"data-testid":D.formElements.fieldTextarea})),He(e,x.DISABLED_TEXTAREA)&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.type===x.DISABLED_TEXTAREA},c().createElement(l.TextArea,{value:e.value,className:n(e),cols:Ue(e.width),rows:e.rows,"data-testid":D.formElements.fieldDisabledTextarea})),He(e,x.CODE)&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},c().createElement(ge,{language:e.language||r.JAVASCRIPT,showLineNumbers:!0,showMiniMap:((null===(p=e.value)||void 0===p?void 0:p.length)||0)>100,value:e.value||"",height:e.height,width:Ue(e.width),onBlur:n=>{t(ol(al({},e),{value:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},"aria-label":D.formElements.fieldCode,readOnly:e.disabled})),He(e,x.BOOLEAN)&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,"data-testid":D.formElements.fieldBooleanContainer,disabled:e.disabled},c().createElement(l.RadioButtonGroup,{value:e.value,onChange:n=>{t(ol(al({},e),{value:n}))},className:n(e),fullWidth:!e.width,options:P})),e.type===x.DATETIME&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},e.disabled?c().createElement(l.DatePickerWithInput,{onChange:void 0,value:e.value,"data-testid":D.formElements.fieldDateTime}):c().createElement(l.DateTimePicker,{minDate:e.min?new Date(e.min):void 0,maxDate:e.max?new Date(e.max):void 0,date:(0,i.dateTime)(e.value),onChange:n=>{t(ol(al({},e),{value:n.toISOString()}))},"data-testid":D.formElements.fieldDateTime})),e.type===x.SLIDER&&null!=e.value&&c().createElement(c().Fragment,null,c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,className:(0,Xo.cx)(f.slider),disabled:e.disabled},c().createElement(tl,{value:e.value||0,onChange:n=>{t(ol(al({},e),{value:Array.isArray(n)?n[n.length-1]:n}))},min:e.min||0,max:e.max||0,step:e.step||0,ariaLabelForHandle:D.formElements.fieldSlider})),c().createElement(l.InlineField,{className:(0,Xo.cx)(f.sliderInput),disabled:e.disabled},c().createElement(l.Input,{type:"number",width:8,min:e.min||0,max:e.max||0,value:e.value||0,onChange:n=>{t(ol(al({},e),{value:Math.max(e.min||0,Math.min(e.max||0,Number(n.currentTarget.value)))}))},"data-testid":D.formElements.fieldSliderInput}))),e.type===x.RADIO&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,"data-testid":D.formElements.fieldRadioContainer,disabled:e.disabled},c().createElement(l.RadioButtonGroup,{value:e.value,onChange:n=>{t(ol(al({},e),{value:n}))},fullWidth:!e.width,options:e.options,className:n(e)})),(e.type===x.SELECT||e.type===x.MULTISELECT)&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},c().createElement(l.Select,{isMulti:e.type===x.MULTISELECT,"aria-label":D.formElements.fieldSelect,value:void 0!==e.value?e.value:null,onChange:n=>{t(ol(al({},e),{value:Array.isArray(n)?n.map((({value:e})=>e)):n.value}))},width:Ue(e.width),options:e.options,className:n(e)})),e.type===x.FILE&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},c().createElement(l.FileDropzone,{options:{accept:e.accept||void 0,multiple:!0,onDrop:n=>{t(ol(al({},e),{value:n}))}},onFileRemove:n=>{var r;t(ol(al({},e),{value:(null===(r=e.value)||void 0===r?void 0:r.filter((e=>e.name!==n.file.name)))||[]}))},"data-testid":D.formElements.fieldFile})),e.type===x.LINK&&c().createElement(l.InlineField,{label:e.title,grow:!e.width,labelWidth:Ue(e.labelWidth),tooltip:e.tooltip,transparent:!e.title},c().createElement("div",{className:f.link,style:{width:e.width?m.spacing(e.width):"auto"}},c().createElement(l.TextLink,{href:e.value,external:e.target===o.NEW_TAB,"data-testid":D.formElements.link},e.linkText||e.value))),e.unit&&c().createElement(l.InlineLabel,{"data-testid":D.formElements.unit,transparent:!0,width:4},e.unit))};function ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sl=({options:e,elements:t,onChangeElement:n,section:r,initial:a,replaceVariables:o,data:i})=>{const s=(0,l.useTheme2)(),u=s.visualization.getColorByName(e.initial.highlightColor||"red"),p=(0,d.useCallback)((t=>e.initial.highlight&&Object.keys(a).length&&a[t.id]!==t.value?Xo.css`
            -webkit-text-fill-color: ${u};
          `:Xo.css`
            -webkit-text-fill-color: ${s.colors.text.primary};
          `),[u,a,e.initial.highlight,s.colors.text.primary]),m=(0,d.useMemo)((()=>t.filter((e=>e.helpers.showIf({elements:t,replaceVariables:o}))).map((e=>{return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ll(e,t,n[t])}))}return e}({},e),r=null!=(r={disabled:e.helpers.disableIf({elements:t,replaceVariables:o}),options:e.helpers.getOptions({elements:t,replaceVariables:o,data:i})})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n;var n,r}))),[i,t,o]);return c().createElement("div",{"data-testid":D.formElements.root},m.map(((e,t)=>{if(!r||e.section===r.id)return c().createElement(il,{key:t,element:e,onChange:n,highlightClass:p})})))};function dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dl(e,t,n[t])}))}return e}function ul(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const pl=({onSave:e,elements:t})=>{const[n,r]=(0,d.useState)(Q),[a,o]=(0,d.useState)(null),i=(0,d.useCallback)((e=>{r(e),o(null)}),[]),s=(0,d.useCallback)((()=>{ke(t,n)?o("Element with the same Id and Type already exists"):(e(Be(Ve(n),n.type)),r(Q))}),[t,n,e]);return c().createElement(l.CollapsableSection,{label:"New Element",isOpen:!0,headerDataTestId:D.formElementsEditor.sectionNewLabel,contentDataTestId:D.formElementsEditor.sectionNewContent},c().createElement(l.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===n.id},c().createElement(l.Input,{placeholder:"Id",onChange:e=>{i(ul(cl({},n),{id:e.target.value}))},value:n.id,"data-testid":D.formElementsEditor.newElementId})),c().createElement(l.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===n.title},c().createElement(l.Input,{placeholder:"Label",onChange:e=>{i(ul(cl({},n),{title:e.target.value}))},value:n.title,"data-testid":D.formElementsEditor.newElementLabel})),c().createElement(l.InlineField,{label:"Type",grow:!0,labelWidth:8},c().createElement(l.Select,{"aria-label":D.formElementsEditor.newElementType,options:T,onChange:e=>{i(ul(cl({},n),{type:null==e?void 0:e.value}))},value:T.find((e=>e.value===n.type))})),!!a&&c().createElement(l.Alert,{"data-testid":D.formElementsEditor.addElementError,severity:"error",title:"Add Element"},a),c().createElement(l.Button,{variant:"secondary",onClick:s,disabled:!n.id||!n.type||!!a,icon:"plus","data-testid":D.formElementsEditor.buttonAddElement},"Add Element"))};function ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ml(e,t,n[t])}))}return e}function gl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const bl=({value:e,onChange:t,context:n})=>{var r,a,o,i;const s=(x=(0,l.useTheme2)(),{item:Xo.css`
      margin-bottom: ${x.spacing(1)};
    `,dragHandle:Xo.css`
      display: flex;
      margin: ${x.spacing(0,.5)};
    `,dragIcon:Xo.css`
      cursor: grab;
      color: ${x.colors.text.disabled};
      &:hover {
        color: ${x.colors.text};
      }
    `,removeButton:Xo.css`
      margin-left: ${x.spacing(1)};
      color: ${x.colors.text.secondary};
    `}),[u,p]=(0,d.useState)({}),{elements:m,isChanged:f,onSaveUpdates:g,onChangeElements:b,onChangeElement:h,onChangeElementOption:v,onElementRemove:y}=rt({onChange:t,value:e}),E=(null===(a=n.options)||void 0===a||null===(r=a.initial)||void 0===r?void 0:r.method)===ae.QUERY,I=(({data:e,isEnabled:t})=>(0,d.useMemo)((()=>t&&e?e.reduce(((e,{fields:t,refId:n})=>e.concat(t.map((e=>({value:e.name,refId:n,label:`${n}:${e.name}`}))))),[]):[]),[e,t]))({data:n.data,isEnabled:E}),S=(0,d.useCallback)((e=>{b(m.concat([e]))}),[m,b]),O=(0,d.useCallback)((e=>{e.destination&&b(Le(m,e.source.index,e.destination.index))}),[m,b]),C=(0,d.useMemo)((()=>{var e,t,r;return(null===(r=n.options)||void 0===r||null===(t=r.layout)||void 0===t||null===(e=t.sections)||void 0===e?void 0:e.map((e=>({value:e.id,label:e.id}))))||[]}),[null===(i=n.options)||void 0===i||null===(o=i.layout)||void 0===o?void 0:o.sections]),w=(0,d.useCallback)((e=>{p((t=>gl(fl({},t),{[e]:!t[e]})))}),[]);var x;return c().createElement("div",{"data-testid":D.formElementsEditor.root},c().createElement(po,{onDragEnd:O},c().createElement(Yo,{droppableId:"elements"},(e=>c().createElement("div",gl(fl({},e.droppableProps),{ref:e.innerRef}),m.map(((e,t)=>{const r=u[e.uid];return c().createElement(To,{key:e.uid,draggableId:e.uid,index:t},((t,a)=>{var o,i,d;return c().createElement("div",gl(fl({},t.draggableProps),{ref:t.innerRef,style:(a.isDragging,d=t.draggableProps.style,fl({},d)),className:s.item}),c().createElement(Jo.U,{fill:"solid",headerTestId:D.formElementsEditor.sectionLabel(e.id,e.type),contentTestId:D.formElementsEditor.sectionContent(e.id,e.type),isOpen:r,onToggle:()=>w(e.uid),title:c().createElement(c().Fragment,null,e.title," [",e.id,"]"),actions:c().createElement(c().Fragment,null,c().createElement(l.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:s.removeButton,"data-testid":D.formElementsEditor.buttonRemoveElement,onClick:()=>y(Ge(e)),"aria-label":"Remove"}),c().createElement("div",fl({className:s.dragHandle},t.dragHandleProps),c().createElement(l.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:s.dragIcon})))},c().createElement(pi,{element:e,onChange:h,layoutSectionOptions:C,initialMethod:null===(i=n.options)||void 0===i||null===(o=i.initial)||void 0===o?void 0:o.method,onChangeOption:v,queryFields:I,isQueryFieldsEnabled:E,data:n.data})))}))})),e.placeholder)))),f&&c().createElement(l.Button,{onClick:g,"data-testid":D.formElementsEditor.buttonSaveChanges},"Save changes"),c().createElement("hr",null),c().createElement(pl,{elements:m,onSave:S}))},hl=()=>({animation:(0,Xo.keyframes)({"0%":{transform:"translateX(-50%)"},"100%":{transform:"translateX(100%)"}}),bar:(0,Xo.css)({width:"28%",height:1,background:"linear-gradient(90deg, rgba(110, 159, 255, 0) 0%, #6E9FFF 80.75%, rgba(110, 159, 255, 0) 100%)"})}),vl=({width:e,ariaLabel:t="Loading bar"})=>{const n=(0,l.useStyles2)(hl),r=Math.min(Math.max(Math.round(2.4*e),500),4e3),a={width:"100%",animation:`${n.animation} ${r}ms infinite linear`,willChange:"transform"};return c().createElement("div",{style:a},c().createElement("div",{"aria-label":t,className:n.bar}))},yl=()=>({wrapper:Xo.css`
      position: relative;
      overflow-y: auto;
    `,loadingBar:Xo.css`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
    `,table:Xo.css`
      width: 100%;
    `,td:Xo.css`
      padding: 20px;
      vertical-align: top;
    `,margin:Xo.css`
      margin: 5px;
    `,button:{center:Xo.css`
        display: flex;
        align-items: center;
        justify-content: center;
      `,left:Xo.css`
        float: left;
      `,right:Xo.css`
        float: right;
      `},confirmTable:Xo.css`
      width: 100%;
      border: 1px solid;
      text-align: center;
    `,confirmTableTd:Xo.css`
      border: 1px solid;
    `});function El(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Il(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){El(o,r,a,i,l,"next",e)}function l(e){El(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Sl(e,t,n[t])}))}return e}function Cl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const wl=({value:e,onChange:t})=>(e&&e.length||(e=[]),c().createElement("div",{"data-testid":D.headerParametersEditor.root},e.map(((n,r)=>c().createElement(l.InlineFieldRow,{key:r,"data-testid":D.headerParametersEditor.parameter(n.name)},c().createElement(l.InlineField,{label:"Name",labelWidth:8,invalid:""===n.name},c().createElement(l.Input,{placeholder:"name",onChange:r=>{n.name=r.target.value,t(e)},value:n.name,"data-testid":D.headerParametersEditor.fieldName})),c().createElement(l.InlineField,{label:"Value",labelWidth:8,grow:!0},c().createElement(l.Input,{placeholder:"value",onChange:r=>{n.value=r.target.value,t(e)},type:"password",value:n.value,"data-testid":D.headerParametersEditor.fieldValue})),c().createElement(l.Button,{variant:"secondary",onClick:()=>{e=e.filter((e=>e.name!==n.name)),t(e)},icon:"trash-alt","data-testid":D.headerParametersEditor.buttonRemove})))),c().createElement(l.Button,{variant:"secondary",onClick:()=>{e.push({name:"",value:""}),t(e)},icon:"plus","data-testid":D.headerParametersEditor.buttonAdd},"Add Parameter")));function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Dl(e,t,n[t])}))}return e}function Tl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Pl=({value:e,onChange:t})=>{const n=(0,d.useMemo)((()=>Array.isArray(e)?e:[]),[e]),r=(0,d.useCallback)(((e,r=e.id)=>{t(n.map((t=>t.id===r?e:t)))}),[t,n]),a=(0,d.useCallback)((e=>{t(n.filter((t=>t.id!==e.id)))}),[t,n]),o=(0,d.useMemo)((()=>n.some((e=>""===e.id))),[n]);return c().createElement("div",{"data-testid":D.layoutSectionsEditor.root},n.map(((e,t)=>c().createElement(l.InlineFieldRow,{key:t,"data-testid":D.layoutSectionsEditor.section(e.id)},c().createElement(l.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===e.id},c().createElement(l.Input,{placeholder:"id",onChange:t=>{const a=Tl(xl({},e),{id:t.target.value||""}),o=!((e,t)=>e.some((e=>e.id===t.id)))(n,a);o&&r(a,e.id)},value:e.id,"data-testid":D.layoutSectionsEditor.fieldId})),c().createElement(l.InlineField,{label:"Name",grow:!0,labelWidth:8},c().createElement(l.Input,{placeholder:"name",onChange:t=>{r(Tl(xl({},e),{name:t.target.value}))},value:e.name,"data-testid":D.layoutSectionsEditor.fieldName})),c().createElement(l.Button,{variant:"secondary",onClick:()=>{a(e)},icon:"trash-alt","data-testid":D.layoutSectionsEditor.buttonRemove})))),c().createElement(l.Button,{variant:"secondary",onClick:()=>{t(n.concat({id:"",name:""}))},icon:"plus","data-testid":D.layoutSectionsEditor.buttonAdd,disabled:o},"Add Section"))};function Al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rl(){return Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}function Nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Al(e,t,n[t])}))}return e}function Ml(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ll(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Bl=e=>{var{updatedOnly:t,payloadMode:n}=e;return Ml(Nl({},Ll(e,["updatedOnly","payloadMode"])),{payloadMode:null!=n?n:t?de.UPDATED:de.ALL})},kl=new i.PanelPlugin((({options:e,width:t,height:r,onOptionsChange:a,eventBus:o,replaceVariables:u,data:p})=>{var m,f,g,b,h,v;const[y,E]=(0,d.useState)(N.INITIAL),[I,S]=(0,d.useState)(""),[O,C]=(0,d.useState)(""),[w,T]=(0,d.useState)({}),[P,A]=(0,d.useState)(!1),[R,M]=(0,d.useState)(!1),[L,B]=(0,d.useState)(!1),[k,F]=(0,d.useState)(!0),[j,U]=(0,d.useState)(!0),[G,_]=(0,d.useState)(!0),V=Ie(),{canAddAnnotations:W}=(0,l.usePanelContext)(),$=(0,d.useMemo)((()=>!!W&&W()),[W]),H=(0,d.useCallback)((t=>{a(Cl(Ol({},e),{elements:t}))}),[a,e]),{elements:q,onChangeElement:K,onChangeElements:Q,onSaveUpdates:z,eventBus:Y}=rt({onChange:H,value:e.elements,isAutoSave:!1}),J=(0,l.useTheme2)(),X=(0,l.useStyles2)(yl),te=(0,s.getTemplateSrv)(),ne=(0,s.getAppEvents)(),re=(0,d.useCallback)((e=>ne.publish({type:i.AppEvents.alertSuccess.name,payload:e})),[ne]),oe=(0,d.useCallback)((e=>ne.publish({type:i.AppEvents.alertError.name,payload:e})),[ne]),ie=(0,d.useCallback)((e=>ne.publish({type:i.AppEvents.alertWarning.name,payload:e})),[ne]),se=(0,d.useCallback)(((e,t)=>q.map((n=>{const r=t===ae.QUERY?n.queryField:{value:n.fieldName},a=e.filter((e=>!(null==r?void 0:r.refId)||e.refId===r.refId)).reduce(((e,{fields:t})=>(null==t?void 0:t.find((e=>e.name===(null==r?void 0:r.value))))||e),void 0);if(a){const e=Ae(a);return qe(n,e[e.length-1])}return n}))),[q]),ce=function(){var t=Il((function*({code:t,initial:n,response:r,initialRequest:i,currentElements:l}){if(!t)return;const d=new Function("options","data","response","elements","onChange","locationService","templateService","onOptionsChange","initialRequest","setInitial","json","initial","notifyError","notifySuccess","notifyWarning","toDataQueryResponse","context",u(t));try{yield d(e,p,r,l||q,Q,s.locationService,te,a,i,T,n,n,oe,re,ie,s.toDataQueryResponse,{grafana:{locationService:s.locationService,templateService:te,notifyError:oe,notifySuccess:re,notifyWarning:ie,eventBus:o,appEvents:ne,refresh:()=>ne.publish({type:"variables-changed",payload:{refreshAll:!0}}),backendService:(0,s.getBackendSrv)()},panel:{options:e,data:p,onOptionsChange:a,elements:l||q,onChangeElements:Q,setInitial:T,initial:n,initialRequest:i,response:r},utils:{toDataQueryResponse:s.toDataQueryResponse,fileToBase64:Xe}})}catch(e){e instanceof Error&&S(e.toString())}}));return function(e){return t.apply(this,arguments)}}(),pe=function(){var t=Il((function*(){S(""),E(N.INITIAL);let t,n=q;if(!q.length||e.initial.method===ae.NONE||e.initial.method===ae.QUERY)return e.initial.method===ae.QUERY&&(n=se(p.series,ae.QUERY)),Q(n),T((e=>e.reduce(((e,t)=>Me(Ne({},e),{[t.id]:t.value})),{}))(n)),yield ce({code:e.initial.code,initial:w,currentElements:n}),void E(N.NONE);let r={};if(e.initial.method===ae.DATASOURCE){if(!e.initial.datasource)return S("Please select Data Source for Initial Request."),void E(N.NONE);const r=yield Ye({request:Cl(Ol({},e.initial),{payloadMode:de.CUSTOM}),elements:q,initial:w,replaceVariables:u});if(t=yield V({query:r,datasource:e.initial.datasource,replaceVariables:u}).catch((e=>(S(JSON.stringify(e)),null))),t&&t.ok){const e=(0,s.toDataQueryResponse)(t);n=se(e.data,ae.DATASOURCE),Q(n),T(n.reduce(((e,t)=>Cl(Ol({},e),{[t.id]:t.value})),{}))}}else{var a;if(!e.initial.url)return S("Please select URL for Initial Request."),void E(N.NONE);const i=new Headers;if(e.initial.method===ae.POST&&i.set("Content-Type",e.initial.contentType),null===(a=e.initial.header)||void 0===a||a.forEach((e=>{const t=u(e.name);t?i.set(t,u(e.value)):S("All request parameters should be defined. Remove empty parameters.")})),t=yield fetch(u(e.initial.url,void 0,encodeURIComponent),{method:e.initial.method,headers:i}).catch((e=>(S(e.toString()),null))),"opaque"===(null==t?void 0:t.type)&&S("CORS prevents access to the response for Initial values."),null==t?void 0:t.ok){var o;r=yield t.json();const a=(null===(o=e.elements)||void 0===o?void 0:o.reduce(((e,t)=>Cl(Ol({},e),{[t.id]:void 0!==r[t.id]?r[t.id]:t.value})),{}))||{};n=q.map((e=>qe(e,a[e.id]))),Q(n),T(Ol({},r,a)),C("Values updated.")}}yield ce({code:e.initial.code,initial:r,response:t,currentElements:n}),E(N.NONE)}));return function(){return t.apply(this,arguments)}}(),me=function(){var t=Il((function*(){if(S(""),e.resetAction.mode===ue.INITIAL)return void(yield pe());if(e.resetAction.mode===ue.CUSTOM&&(E(N.RESET),yield ce({code:e.resetAction.code,initial:w}),E(N.NONE)),E(N.RESET),!e.resetAction.datasource)return S("Please select Data Source for Reset Request."),void E(N.NONE);const t=yield Ye({request:{datasource:e.resetAction.datasource,payloadMode:de.CUSTOM,method:ae.NONE,url:"",header:[],getPayload:e.resetAction.getPayload,contentType:le.PLAIN,code:e.resetAction.code,highlight:!1,highlightColor:"",confirm:!1},elements:q,initial:w,replaceVariables:u}),n=yield V({query:t,datasource:e.resetAction.datasource,replaceVariables:u}).catch((e=>(S(JSON.stringify(e)),null)));let r=q;if(n&&n.ok){const e=(0,s.toDataQueryResponse)(n);r=se(e.data,ae.DATASOURCE),Q(r)}yield ce({code:e.resetAction.code,initial:w,response:n,currentElements:r}),E(N.NONE)}));return function(){return t.apply(this,arguments)}}(),fe=function(){var t=Il((function*(){if(S(""),E(N.UPDATE),e.update.method===ae.NONE)return yield ce({code:e.update.code,initial:w,initialRequest:pe}),void E(N.NONE);const t=yield Ye({request:e.update,elements:q,initial:w,replaceVariables:u});let n;if(e.update.method===ae.DATASOURCE)n=yield V({query:t,datasource:e.update.datasource,replaceVariables:u}).catch((e=>(S(JSON.stringify(e)),null)));else{var r;const a=new Headers;let o;a.set("Content-Type",e.update.contentType),null===(r=e.update.header)||void 0===r||r.forEach((e=>{const t=u(e.name);t?a.set(t,u(e.value)):S("All request parameters should be defined. Remove empty parameters.")})),o=e.update.contentType===le.FORMDATA&&t instanceof Object?((e,t)=>{const n=new FormData;return Object.entries(e).forEach((([e,r])=>{Array.isArray(r)?r.forEach(((r,a)=>{n.set(`${e}[${a}]`,et(r,t))})):n.set(e,et(r,t))})),n})(t,u):yield Ze(t,u),n=yield fetch(u(e.update.url,void 0,encodeURIComponent),{method:e.update.method,headers:a,body:o}).catch((e=>(S(e.toString()),null))),(null==n?void 0:n.ok)&&C(n.toString())}yield ce({code:e.update.code,initial:w,response:n,initialRequest:pe}),E(N.NONE)}));return function(){return t.apply(this,arguments)}}();(0,d.useEffect)((()=>{p.state!==i.LoadingState.Done||!e.sync&&L||(pe(),e.sync||B(!0));const t=o.getStream(s.RefreshEvent).subscribe((()=>{e.sync&&pe()}));return()=>{t.unsubscribe()}}),[e.initial,p,e.sync,L,o]);const ge=(0,d.useMemo)((()=>{for(const e of q)if(e.value!==w[e.id])return!0;return!1}),[q,w]),be=(0,d.useCallback)((({elements:t,element:n})=>{new Function("context",u(e.elementValueChanged))({element:n,grafana:{locationService:s.locationService,templateService:te,notifyError:oe,notifySuccess:re,notifyWarning:ie,eventBus:o,appEvents:ne,refresh:()=>ne.publish({type:"variables-changed",payload:{refreshAll:!0}})},panel:{options:e,data:p,onOptionsChange:a,elements:t,onChangeElements:Q,initial:w,setError:S,enableReset:()=>F(!0),disableReset:()=>F(!1),enableSubmit:()=>U(!0),disableSubmit:()=>U(!1),enableSaveDefault:()=>_(!0),disableSaveDefault:()=>_(!1)},utils:{toDataQueryResponse:s.toDataQueryResponse}})}),[ne,p,o,w,oe,re,ie,Q,a,e,u,te]);return(0,d.useEffect)((()=>{const e=Y.subscribe(Ke,(e=>{be(e.payload)}));return()=>{e.unsubscribe()}}),[Y,o,be]),c().createElement("div",{"data-testid":D.panel.root,className:(0,Xo.cx)(X.wrapper,Xo.css`
          width: ${t}px;
          height: ${r}px;
          padding: ${e.layout.padding}px;
        `)},y===N.INITIAL&&c().createElement("div",{className:X.loadingBar,"data-testid":D.panel.loadingBar},c().createElement(vl,{width:t})),!q.length&&e.layout.variant!==Z.NONE&&c().createElement(l.Alert,{"data-testid":D.panel.infoMessage,severity:"info",title:"Form Elements"},"Please add elements in Panel Options or Custom Code."),c().createElement("table",{className:X.table},c().createElement("tbody",null,e.layout.variant===Z.SINGLE&&c().createElement("tr",null,c().createElement("td",{"data-testid":D.panel.singleLayoutContent},c().createElement(sl,{data:p,options:e,elements:q,onChangeElement:K,initial:w,section:null,replaceVariables:u}))),e.layout.variant===Z.SPLIT&&e.layout.orientation!==ee.VERTICAL&&c().createElement("tr",null,null===(f=e.layout)||void 0===f||null===(m=f.sections)||void 0===m?void 0:m.map(((t,n)=>c().createElement("td",{className:X.td,key:n,"data-testid":D.panel.splitLayoutContent(t.name)},c().createElement(l.FieldSet,{label:t.name},c().createElement(sl,{data:p,options:e,elements:q,onChangeElement:K,initial:w,section:t,replaceVariables:u})))))),e.layout.variant===Z.SPLIT&&e.layout.orientation===ee.VERTICAL&&c().createElement(c().Fragment,null,null===(b=e.layout)||void 0===b||null===(g=b.sections)||void 0===g?void 0:g.map(((t,n)=>c().createElement("tr",{key:n},c().createElement("td",{className:X.td,"data-testid":D.panel.splitLayoutContent(t.name)},c().createElement(l.FieldSet,{label:t.name},c().createElement(sl,{options:e,elements:q,onChangeElement:K,initial:w,section:t,replaceVariables:u,data:p}))))))),c().createElement("tr",null,c().createElement("td",{colSpan:null===(v=e.layout)||void 0===v||null===(h=v.sections)||void 0===h?void 0:h.length},c().createElement(l.ButtonGroup,{className:(0,Xo.cx)(X.button[e.buttonGroup.orientation])},c().createElement(l.Button,{className:(0,Xo.cx)(X.margin),variant:$e(e.submit.variant),icon:y===N.UPDATE?"fa fa-spinner":e.submit.icon,title:O,style:e.submit.variant===n.CUSTOM?{background:"none",border:"none",backgroundColor:J.visualization.getColorByName(e.submit.backgroundColor),color:J.visualization.getColorByName(e.submit.foregroundColor)}:{},disabled:!!y||!ge&&e.layout.variant!==Z.NONE||!j,onClick:e.update.confirm?()=>{A(!0)}:fe,size:e.buttonGroup.size,"data-testid":D.panel.buttonSubmit},e.submit.text),e.reset.variant!==n.HIDDEN&&c().createElement(l.Button,{className:(0,Xo.cx)(X.margin),variant:$e(e.reset.variant),icon:y===N.RESET?"fa fa-spinner":e.reset.icon,style:e.reset.variant===n.CUSTOM?{background:"none",border:"none",backgroundColor:J.visualization.getColorByName(e.reset.backgroundColor),color:J.visualization.getColorByName(e.reset.foregroundColor)}:{},disabled:!!y||!k,onClick:()=>{e.resetAction.confirm?M(!0):me()},size:e.buttonGroup.size,"data-testid":D.panel.buttonReset},e.reset.text),e.saveDefault.variant!==n.HIDDEN&&$&&c().createElement(l.Button,{className:(0,Xo.cx)(X.margin),variant:$e(e.saveDefault.variant),icon:e.saveDefault.icon,disabled:!!y||!G,onClick:z,size:e.buttonGroup.size,"data-testid":D.panel.buttonSaveDefault,title:"Save values in the dashboard. Requires to Save dashboard."},e.saveDefault.text)))))),I&&c().createElement(l.Alert,{"data-testid":D.panel.errorMessage,severity:"error",title:"Request"},I),c().createElement(l.ConfirmModal,{isOpen:P,title:e.confirmModal.title,body:c().createElement("div",{"data-testid":D.panel.confirmModalContent},c().createElement("h4",null,e.confirmModal.body),e.layout.variant!==Z.NONE&&c().createElement("table",{className:X.confirmTable},c().createElement("thead",null,c().createElement("tr",{className:X.confirmTable},c().createElement("td",{className:X.confirmTableTd},c().createElement("b",null,e.confirmModal.columns.name)),c().createElement("td",{className:X.confirmTableTd},c().createElement("b",null,e.confirmModal.columns.oldValue)),c().createElement("td",{className:X.confirmTableTd},c().createElement("b",null,e.confirmModal.columns.newValue)))),c().createElement("tbody",null,q.map((e=>{if(e.value===w[e.id])return;if(e.type===x.DISABLED)return;if(e.type===x.PASSWORD)return c().createElement("tr",{className:X.confirmTable,key:e.id,"data-testid":D.panel.confirmModalField(e.id)},c().createElement("td",{className:X.confirmTableTd,"data-testid":D.panel.confirmModalFieldTitle},e.title||e.tooltip),c().createElement("td",{className:X.confirmTableTd,"data-testid":D.panel.confirmModalFieldPreviousValue},"*********"),c().createElement("td",{className:X.confirmTableTd,"data-testid":D.panel.confirmModalFieldValue},"*********"));let t=e.value;return e.type===x.DATETIME&&(t=(0,i.dateTime)(e.value).toISOString()),c().createElement("tr",{className:X.confirmTable,key:e.id,"data-testid":D.panel.confirmModalField(e.id)},c().createElement("td",{className:X.confirmTableTd,"data-testid":D.panel.confirmModalFieldTitle},e.title||e.tooltip),c().createElement("td",{className:X.confirmTableTd,"data-testid":D.panel.confirmModalFieldPreviousValue},void 0===w[e.id]?"":String(w[e.id])),c().createElement("td",{className:X.confirmTableTd,"data-testid":D.panel.confirmModalFieldValue},void 0===t?"":String(t)))}))))),confirmText:e.confirmModal.confirm,onConfirm:()=>{fe(),A(!1)},onDismiss:()=>A(!1),dismissText:e.confirmModal.cancel}),c().createElement(l.ConfirmModal,{isOpen:R,title:"Confirm reset values",body:c().createElement("div",{"data-testid":D.panel.resetConfirmModal},"Please confirm to reset values"),confirmText:"Confirm",onConfirm:()=>{me(),M(!1)},onDismiss:()=>M(!1)}))})).setNoPadding().setMigrationHandler((e=>{var t;const n=Rl({},function(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}(e.options));var r;return("updatedOnly"in n.initial||"updatedOnly"in n.update)&&(n.initial=Bl(n.initial),n.update=Bl(n.update)),(null===(t=n.layout)||void 0===t?void 0:t.sections)&&(r=Ml(Nl({},n.layout),{sections:n.layout.sections.map((e=>{var{id:t}=e,n=Ll(e,["id"]);return Ml(Nl({},n),{id:null!=t?t:n.name})}))}),n.layout=r),n})).setPanelOptions((r=>{const o=e=>e.method!==ae.NONE,i=e=>e.method!==ae.NONE&&e.method!==ae.DATASOURCE&&e.method!==ae.QUERY;return r.addRadio({path:"layout.variant",name:"Layout",category:["Layout"],settings:{options:te},defaultValue:Z.SINGLE}).addSliderInput({path:"layout.padding",name:"Padding",category:["Layout"],defaultValue:10,settings:{min:0,max:20}}),r.addCustomEditor({id:"layout.sections",path:"layout.sections",name:"Sections",category:["Sections"],editor:Pl,showIf:e=>e.layout.variant===Z.SPLIT}).addRadio({path:"layout.orientation",name:"Orientation",category:["Sections"],settings:{options:ne},defaultValue:ee.HORIZONTAL,showIf:e=>e.layout.variant===Z.SPLIT}),r.addCustomEditor({id:"elements",path:"elements",name:"Form Elements",category:["Form Elements"],description:"Form Elements",editor:bl,showIf:e=>e.layout.variant!==Z.NONE}),r.addCustomEditor({id:"elementValueChanged",path:"elementValueChanged",name:"Element Value Changed",category:["Form Events"],description:"Code to run when element value changed",editor:be,settings:{type:a.ELEMENT_VALUE_CHANGED,variablesSuggestions:!0},showIf:e=>e.layout.variant!==Z.NONE,defaultValue:""}),r.addRadio({path:"sync",name:"Synchronize with data",description:"Keeps the panel synched with the dashboard updates.",category:["Initial Request"],settings:{options:O},defaultValue:!0}).addRadio({path:"initial.method",name:"Initial Action",category:["Initial Request"],settings:{options:oe},defaultValue:ae.NONE}).addTextInput({path:"initial.url",name:"URL",category:["Initial Request"],description:"The URL to call. Leave empty to skip Initial Request.",settings:{placeholder:"http://"},showIf:e=>i(e.initial)}).addCustomEditor({id:"initial.header",path:"initial.header",name:"Header Parameters",category:["Initial Request"],editor:wl,showIf:e=>i(e.initial)}).addCustomEditor({id:"initial.datasource",path:"initial.datasource",name:"Data Source",category:["Initial Request"],editor:at,showIf:e=>e.initial.method===ae.DATASOURCE}).addSelect({path:"initial.contentType",name:"Content-Type",category:["Initial Request"],description:"Content-Type of the payload.",defaultValue:le.JSON,settings:{allowCustomValue:!0,options:se},showIf:e=>e.initial.method===ae.POST}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute initial request.",editor:be,category:["Initial Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:F,showIf:e=>!o(e.initial)}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute after initial request.",editor:be,category:["Initial Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:F,showIf:e=>o(e.initial)}),r.addCustomEditor({id:"initial.getPayload",path:"initial.getPayload",name:"Create Payload",description:"Custom code to create payload for the initial data source request.",editor:be,category:["Initial Request Payload"],settings:{type:a.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:U,showIf:e=>e.initial.method===ae.DATASOURCE&&!!e.initial.datasource}),r.addRadio({path:"initial.highlight",name:"Highlight Changes",description:"Some elements are not supporting highlighting.",category:["Highlight Changes"],settings:{options:re},defaultValue:!1,showIf:e=>e.layout.variant!==Z.NONE}).addColorPicker({path:"initial.highlightColor",name:"Color",category:["Highlight Changes"],defaultValue:"red",settings:{disableNamedColors:!0},showIf:e=>e.initial.highlight&&e.layout.variant!==Z.NONE}),r.addRadio({path:"update.method",name:"Update Action",category:["Update Request"],settings:{options:ie},defaultValue:ae.NONE}).addTextInput({path:"update.url",name:"URL",category:["Update Request"],description:"The URL to call.",settings:{placeholder:"http://"},showIf:e=>o(e.update)&&i(e.update)}).addCustomEditor({id:"update.datasource",path:"update.datasource",name:"Data Source",category:["Update Request"],editor:at,showIf:e=>e.update.method===ae.DATASOURCE}).addCustomEditor({id:"update.header",path:"update.header",name:"Header Parameters",category:["Update Request"],editor:wl,showIf:e=>o(e.update)&&i(e.update)}).addSelect({path:"update.contentType",name:"Content-Type",category:["Update Request"],description:"Content-Type of the payload.",defaultValue:le.JSON,settings:{allowCustomValue:!0,options:se},showIf:e=>o(e.update)&&i(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute after update request.",editor:be,category:["Update Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:j,showIf:e=>o(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute update request.",editor:be,category:["Update Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:j,showIf:e=>!o(e.update)}),r.addRadio({path:"update.payloadMode",name:"Request Payload",description:"Choose what values will be included in payload.",category:["Update Request Payload"],settings:{options:ce},defaultValue:de.ALL,showIf:e=>o(e.update)&&e.layout.variant!==Z.NONE}).addCustomEditor({id:"update.getPayload",path:"update.getPayload",name:"Create Payload",description:"Custom code to create payload for the update request.",editor:be,category:["Update Request Payload"],settings:{type:a.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:"const payload = {};\n\nelements.forEach((element) => {\n  if (!element.value) {\n    return;\n  }\n\n  payload[element.id] = element.value;\n})\n\nreturn payload;\n\n/**\n * Data Source payload\n */ \nreturn {\n  rawSql: '',\n  format: 'table',\n};",showIf:e=>o(e.update)&&e.update.payloadMode===de.CUSTOM}),r.addRadio({path:"update.confirm",name:"Confirmation Window",description:"Ask to confirm updated values.",category:["Update Confirmation Window"],settings:{options:re},defaultValue:!1}).addTextInput({path:"confirmModal.title",name:"Title",category:["Update Confirmation Window"],defaultValue:"Confirm update request",showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.body",name:"Text",category:["Update Confirmation Window"],defaultValue:"Please confirm to update changed values",showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.columns.name",name:"Label column",category:["Update Confirmation Window"],defaultValue:Y,showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.columns.oldValue",name:"Old value column",category:["Update Confirmation Window"],defaultValue:J,showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.columns.newValue",name:"New value column",category:["Update Confirmation Window"],defaultValue:X,showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.confirm",name:"Confirm button",category:["Update Confirmation Window"],description:"The text on the confirm button.",defaultValue:"Confirm",showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.cancel",name:"Cancel button",category:["Update Confirmation Window"],description:"The text on the cancel button.",defaultValue:"Cancel",showIf:e=>e.update.confirm}),r.addRadio({path:"buttonGroup.orientation",name:"Orientation",category:["Buttons"],description:"Buttons orientation on the form.",settings:{options:g},defaultValue:e.CENTER}).addRadio({path:"buttonGroup.size",name:"Size",category:["Buttons"],description:"Buttons size on the form.",settings:{options:b},defaultValue:t.MEDIUM}),r.addRadio({path:"submit.variant",name:"Submit Button",category:["Submit Button"],description:"Button variant.",settings:{options:f},defaultValue:G.variant}).addColorPicker({path:"submit.foregroundColor",name:"Foreground Color",category:["Submit Button"],description:"Foreground color of the button.",defaultValue:G.foregroundColor,settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===n.CUSTOM}).addColorPicker({path:"submit.backgroundColor",name:"Background Color",category:["Submit Button"],description:"Background color of the button.",defaultValue:G.backgroundColor,settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===n.CUSTOM}).addSelect({path:"submit.icon",name:"Icon",category:["Submit Button"],settings:{options:(0,l.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:G.icon}).addTextInput({path:"submit.text",name:"Text",category:["Submit Button"],description:"The text on the button.",defaultValue:G.text}),r.addRadio({path:"reset.variant",name:"Reset Button",category:["Reset Button"],description:"Button variant.",settings:{options:[...m,...f]},defaultValue:_.variant}).addColorPicker({path:"reset.foregroundColor",name:"Foreground Color",category:["Reset Button"],description:"Foreground color of the button.",defaultValue:_.foregroundColor,settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===n.CUSTOM}).addColorPicker({path:"reset.backgroundColor",name:"Background Color",category:["Reset Button"],description:"Background color of the button.",defaultValue:_.backgroundColor,settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===n.CUSTOM}).addSelect({path:"reset.icon",name:"Icon",category:["Reset Button"],settings:{options:(0,l.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:_.icon,showIf:e=>e.reset.variant!==n.HIDDEN}).addTextInput({path:"reset.text",name:"Text",category:["Reset Button"],description:"The text on the button.",defaultValue:_.text,showIf:e=>e.reset.variant!==n.HIDDEN}),r.addRadio({path:"resetAction.mode",name:"Reset Action",category:["Reset Request"],description:"What action should be called by clicking on reset button.",settings:{options:pe},defaultValue:ue.INITIAL,showIf:e=>e.reset.variant!==n.HIDDEN}).addCustomEditor({id:"resetAction.code",path:"resetAction.code",name:"Custom Code",description:"Custom code to execute reset request.",editor:be,category:["Reset Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:"console.log(data, response, initial, elements);",showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ue.CUSTOM}).addCustomEditor({id:"resetAction.datasource",path:"resetAction.datasource",name:"Data Source",category:["Reset Request"],editor:at,showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ue.DATASOURCE}).addCustomEditor({id:"resetAction.code",path:"resetAction.code",name:"Custom Code",description:"Custom code to execute after reset request.",editor:be,category:["Reset Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:j,showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ue.DATASOURCE}).addRadio({path:"resetAction.confirm",name:"Confirmation Window",description:"Ask to reset values.",category:["Reset Request"],settings:{options:re},defaultValue:!1}),r.addCustomEditor({id:"resetAction.getPayload",path:"resetAction.getPayload",name:"Create Payload",description:"Custom code to create payload for the reset data source request.",editor:be,category:["Reset Request Payload"],settings:{type:a.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:U,showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ue.DATASOURCE&&!!e.resetAction.datasource}),r.addRadio({path:"saveDefault.variant",name:"Save Default Button",category:["Save Default Button"],description:"Button variant.",settings:{options:[...m,{value:n.SECONDARY,label:"Auto"}]},defaultValue:V.variant}).addSelect({path:"saveDefault.icon",name:"Icon",category:["Save Default Button"],settings:{options:(0,l.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:V.icon,showIf:e=>e.saveDefault.variant!==n.HIDDEN}).addTextInput({path:"saveDefault.text",name:"Text",category:["Save Default Button"],description:"The text on the button.",defaultValue:V.text,showIf:e=>e.saveDefault.variant!==n.HIDDEN}),r}))})(),p})()));
//# sourceMappingURL=module.js.map